import{aR as he,u as p,d as Y,r as A,aC as Oe,ay as G,aF as Q,ax as Ee,o as C,c as B,w as v,a as h,aS as En,aT as Sn,aG as R,aH as U,aU as ee,aI as K,aV as Dn,aA as le,aW as Cn,aX as Tn,aY as Kt,aD as je,T as Zt,au as On,v as In,aK as It,aZ as xn,a5 as Pn,az as nt,a_ as An,aP as xt,aB as ot,a$ as Mn,b0 as Nn,O as Qt,aE as kt,b1 as kn,aq as Fn,b2 as Jt,U as Rn,P as Gn,ab as jn,ac as $n,X as Un,b3 as Ft,b4 as Xn,Q as Vn,S as Wn,M as zn,aL as Bn,aM as Yn}from"./vendor-7dc3cc73.js";import{_ as dt,g as Ln,r as en,a as Hn,b as at,c as rt,f as Rt,d as qn,e as pt,h as Gt}from"./index-19323fda.js";class Kn{step=0;max=0;#e=[];constructor(e=100){this.max=e??100}get value(){return this.#e[this.step-1]}set value(e){this.push(he(e))}undo(){return this.go(-1)}redo(){return this.go(1)}go(e){return e=this.step+e,e=Math.max(0,Math.min(e,this.max,this.#e.length)),this.step=e,this.#e[this.step-1]}empty(){this.step=0,this.#e=[]}push(e){this.#e.length=this.step,this.#e.length>=this.max?this.#e.shift():this.step+=1,this.#e.push(he(e))}}const Zn={cols:24,xGap:12,yGap:12},Qn={size:"medium",labelPlacement:"left",labelAlign:"left",requireMarkPlacement:"right"},Jn={default(t){const{default:{options:e,space:o}}=t.__slot__,n=A("n-checkbox"),a=A("n-space");return G(a,o,()=>e.map(r=>G(n,r)))}},eo=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"})),to={default(t,e){const{default:o,preLabel:n,sufLabel:a}=t.__slot__,r=A("n-input"),i=A("n-input-group-label"),s=A("NIcon"),u={};Object.keys(o).forEach(c=>{const d=o[c];if(d){const m=A(d);u[c]=()=>G(s,{component:m})}});const l=[G(r,e,u)];return n&&l.unshift(G(i,()=>n)),a&&l.push(G(i,()=>a)),l}},no=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),oo={prefix(t,e){return t.__slot__[e]},suffix(t,e){return t.__slot__[e]},"add-icon"(t,e){return t.__slot__[e]},"minu-icon"(t,e){return t.__slot__[e]}},ao=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),ro={prefix(t,e){const o=A("NIcon"),n=A(t.__slot__[e]);return G(o,{component:n})},suffix(t,e){const o=A("NIcon");return G(o,{component:A(t.__slot__[e])})}},io=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),lo={default(t){const{default:{type:e,options:o,space:n}}=t.__slot__,a=e==="button",r=A(a?"n-radio-button":"n-radio"),i=A("n-space");return a?o.map(s=>G(r,s)):G(i,n,()=>o.map(s=>G(r,s)))}},so=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),uo={default(t,e){return t.__slot__[e]}},co=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),fo={thumb(t,e){return t.__slot__[e]}},po=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),mo={checked(t,e){return t.__slot__[e]},unchecked(t,e){return t.__slot__[e]},icon(t,e){return t.__slot__[e]},"checked-icon"(t,e){return t.__slot__[e]},"unchecked-icon"(t,e){return t.__slot__[e]}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));function go(t){const e=t.split("/").at(-1),o=t.split(e).at(0),[n,...a]=e.split(".").reverse();return{dir:o,base:e,ext:`.${n}`,name:a.reverse().join(".")}}function tn(t){return p(t).length?p(t).reduce((e,o)=>{const{__vModel__:n,__config__:a,label:r}=o,i=[];return a.required&&i.push({required:!0,message:`${r}必须填写`,trigger:"blur"}),{...e,[n]:i}},{}):{}}const nn={},jt=Object.assign({"./n-checkbox-group.ts":eo,"./n-input-group.ts":no,"./n-input-number.ts":ao,"./n-input.ts":io,"./n-radio-group.ts":so,"./n-rate.ts":co,"./n-slider.ts":po,"./n-switch.ts":ho});Object.keys(jt).forEach(t=>{const e=jt[t].default||{},{name:o}=go(t);nn[o]=e});function _o(t,e){const{tag:o,__slot__:n}=t,a=nn[o],r={};return o==="n-input-group"?()=>a.default(t,e):(a&&(a.default&&n.default&&(r.default=()=>a.default(t,e)),Object.keys(a).forEach(i=>{const s=a[i];n&&n[i]&&(r[i]=()=>s(t,i))})),r)}const on=Y({name:"LcFormItem",props:{value:{type:[String,Number,Object,Boolean],required:!1,default:void 0},conf:{type:Object,required:!0}},emits:["update:value"],setup(t,{attrs:e,emit:o}){return()=>{const{__config__:n,tag:a}=t.conf||{},r=A(a),i=Oe({value:t.value,"onUpdate:value":u=>{o("update:value",u)}},n,e),s=_o(t.conf,i);return G(r,i,s)}}}),vo=["cols","collapsed","collapsedRows","layoutShiftDisabled","responsive","itemResponsive","xGap","yGap"],bo=Y({name:"LcForm",components:{FormItem:on},props:{value:{type:Object,required:!0},conf:{type:Object,required:!0}},emits:["update:value"],setup(t,{emit:e,expose:o}){const n=Q(),a=Ee({get(){return t.value},set(l){e("update:value",l)}}),r=Ee(()=>{const{items:l}=t.conf;return tn(l)}),i=Ee(()=>{const{fromGrid:l}=t.conf,c={};return vo.forEach(d=>{Object.hasOwn(l,d)&&(c[d]=l[d])}),c}),s=Ee(()=>t.conf.fromGlobal),u=()=>{e("update:value",p(a))};return o({formRef:n,validate(...l){var c;return(c=n.value)==null?void 0:c.validate(...l)},reset(){var l;(l=n.value)==null||l.restoreValidation()}}),{formRef:n,fromGrid:i,fromGlobal:s,formValue:a,formRules:r,bindUpdate:u}}}),yo=(t,e)=>{const o=t.__vccOpts||t;for(const[n,a]of e)o[n]=a;return o};function wo(t,e,o,n,a,r){const i=A("form-item"),s=A("n-form-item-gi"),u=A("n-grid"),l=A("n-form");return C(),B(l,Oe({ref:"formRef"},t.fromGlobal,{model:t.formValue,rules:t.formRules}),{default:v(()=>[h(u,En(Sn(t.fromGrid)),{default:v(()=>[(C(!0),R(U,null,ee(t.conf.items,c=>(C(),B(s,Oe({key:c.__uuid__},c.__layout__,{label:c.label,path:c.__vModel__}),{default:v(()=>[h(i,{value:t.formValue[c.__vModel__],"onUpdate:value":[d=>t.formValue[c.__vModel__]=d,t.bindUpdate],conf:c},null,8,["value","onUpdate:value","conf"])]),_:2},1040,["label","path"]))),128))]),_:1},16)]),_:1},16,["model","rules"])}const Eo=yo(bo,[["render",wo]]),So={class:"center-toolbar"},Do=Y({name:"CenterToolbar",inheritAttrs:!0}),Co=Y({...Do,props:{designer:{default:void 0}},emits:["onUndo","onRedo","onPreview","onEmpty","onSave"],setup(t,{emit:e}){const o=t,n=c=>{const m=`on${c.replace(/^\S/,w=>w.toUpperCase())}`;s.value=o?.designer.getConf(),o?.designer[c](a),e(m)},a=Q(!1),r=Q(),i=Q({}),s=Q({}),u=()=>{r.value.reset()},l=()=>{const{validate:c}=r.value;c(d=>{d?(console.error(d),window.$message.error("Invalid")):window.$message.success("Valid")}),console.log(i.value,r.value)};return(c,d)=>{const m=Zt,w=On,g=In,S=It,N=xn,X=Pn;return C(),R(U,null,[K("div",So,[h(g,{quaternary:"",circle:"",size:"small",onClick:d[0]||(d[0]=O=>n("undo"))},{icon:v(()=>[h(w,null,{trigger:v(()=>[h(m,{component:p(Dn)},null,8,["component"])]),default:v(()=>[le(" 撤销 ")]),_:1})]),_:1}),h(g,{quaternary:"",circle:"",size:"small",onClick:d[1]||(d[1]=O=>n("redo"))},{icon:v(()=>[h(w,null,{trigger:v(()=>[h(m,{component:p(Cn)},null,8,["component"])]),default:v(()=>[le(" 恢复 ")]),_:1})]),_:1}),h(g,{quaternary:"",circle:"",size:"small",type:"info",onClick:d[2]||(d[2]=O=>n("preview"))},{icon:v(()=>[h(w,null,{trigger:v(()=>[h(m,{component:p(Tn)},null,8,["component"])]),default:v(()=>[le(" 预览 ")]),_:1})]),_:1}),h(g,{quaternary:"",circle:"",size:"small",type:"error",onClick:d[3]||(d[3]=O=>n("empty"))},{icon:v(()=>[h(w,null,{trigger:v(()=>[h(m,{component:p(Kt)},null,8,["component"])]),default:v(()=>[le(" 清空 ")]),_:1})]),_:1}),h(g,{size:"small",type:"primary",onClick:d[4]||(d[4]=O=>n("save"))},{default:v(()=>[le("保存")]),_:1})]),h(X,{show:p(a),"onUpdate:show":d[6]||(d[6]=O=>je(a)?a.value=O:null),size:"small",preset:"card",title:"选择图标","mask-closable":!1,style:{width:"920px"}},{footer:v(()=>[h(N,null,{default:v(()=>[h(g,{type:"primary",tertiary:"",onClick:l},{default:v(()=>[le("提交")]),_:1}),h(g,{type:"info",tertiary:"",onClick:u},{default:v(()=>[le("重置")]),_:1})]),_:1})]),default:v(()=>[h(S,{style:{"max-height":"600px","padding-right":"10px"}},{default:v(()=>[h(p(Eo),{ref_key:"formRef",ref:r,value:p(i),"onUpdate:value":d[5]||(d[5]=O=>je(i)?i.value=O:null),class:"preview-form",conf:p(s)},null,8,["value","conf"])]),_:1})]),_:1},8,["show"])],64)}}});const To=dt(Co,[["__scopeId","data-v-7ddf734f"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $t(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,n)}return o}function re(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?$t(Object(o),!0).forEach(function(n){Oo(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$t(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Ze(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ze=function(e){return typeof e}:Ze=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(t)}function Oo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function ue(){return ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},ue.apply(this,arguments)}function Io(t,e){if(t==null)return{};var o={},n=Object.keys(t),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(o[a]=t[a]);return o}function xo(t,e){if(t==null)return{};var o=Io(t,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Po="1.15.0";function se(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ce=se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ze=se(/Edge/i),Ut=se(/firefox/i),$e=se(/safari/i)&&!se(/chrome/i)&&!se(/android/i),an=se(/iP(ad|od|hone)/i),rn=se(/chrome/i)&&se(/android/i),ln={capture:!1,passive:!1};function T(t,e,o){t.addEventListener(e,o,!ce&&ln)}function D(t,e,o){t.removeEventListener(e,o,!ce&&ln)}function it(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ao(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function oe(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&it(t,e):it(t,e))||n&&t===o)return t;if(t===o)break}while(t=Ao(t))}return null}var Xt=/\s+/g;function H(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Xt," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(Xt," ")}}function b(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ie(t,e){var o="";if(typeof t=="string")o=t;else do{var n=b(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function sn(t,e,o){if(t){var n=t.getElementsByTagName(e),a=0,r=n.length;if(o)for(;a<r;a++)o(n[a],a);return n}return[]}function ae(){var t=document.scrollingElement;return t||document.documentElement}function F(t,e,o,n,a){if(!(!t.getBoundingClientRect&&t!==window)){var r,i,s,u,l,c,d;if(t!==window&&t.parentNode&&t!==ae()?(r=t.getBoundingClientRect(),i=r.top,s=r.left,u=r.bottom,l=r.right,c=r.height,d=r.width):(i=0,s=0,u=window.innerHeight,l=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||o)&&t!==window&&(a=a||t.parentNode,!ce))do if(a&&a.getBoundingClientRect&&(b(a,"transform")!=="none"||o&&b(a,"position")!=="static")){var m=a.getBoundingClientRect();i-=m.top+parseInt(b(a,"border-top-width")),s-=m.left+parseInt(b(a,"border-left-width")),u=i+r.height,l=s+r.width;break}while(a=a.parentNode);if(n&&t!==window){var w=Ie(a||t),g=w&&w.a,S=w&&w.d;w&&(i/=S,s/=g,d/=g,c/=S,u=i+c,l=s+d)}return{top:i,left:s,bottom:u,right:l,width:d,height:c}}}function Vt(t,e,o){for(var n=ge(t,!0),a=F(t)[e];n;){var r=F(n)[o],i=void 0;if(o==="top"||o==="left"?i=a>=r:i=a<=r,!i)return n;if(n===ae())break;n=ge(n,!1)}return!1}function xe(t,e,o,n){for(var a=0,r=0,i=t.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==y.ghost&&(n||i[r]!==y.dragged)&&oe(i[r],o.draggable,t,!1)){if(a===e)return i[r];a++}r++}return null}function Pt(t,e){for(var o=t.lastElementChild;o&&(o===y.ghost||b(o,"display")==="none"||e&&!it(o,e));)o=o.previousElementSibling;return o||null}function J(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==y.clone&&(!e||it(t,e))&&o++;return o}function Wt(t){var e=0,o=0,n=ae();if(t)do{var a=Ie(t),r=a.a,i=a.d;e+=t.scrollLeft*r,o+=t.scrollTop*i}while(t!==n&&(t=t.parentNode));return[e,o]}function Mo(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function ge(t,e){if(!t||!t.getBoundingClientRect)return ae();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=b(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return ae();if(n||e)return o;n=!0}}while(o=o.parentNode);return ae()}function No(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function mt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ue;function un(t,e){return function(){if(!Ue){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),Ue=setTimeout(function(){Ue=void 0},e)}}}function ko(){clearTimeout(Ue),Ue=void 0}function cn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function dn(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var Z="Sortable"+new Date().getTime();function Fo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(b(a,"display")==="none"||a===y.ghost)){t.push({target:a,rect:F(a)});var r=re({},t[t.length-1].rect);if(a.thisAnimationDuration){var i=Ie(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Mo(t,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,i=0;t.forEach(function(s){var u=0,l=s.target,c=l.fromRect,d=F(l),m=l.prevFromRect,w=l.prevToRect,g=s.rect,S=Ie(l,!0);S&&(d.top-=S.f,d.left-=S.e),l.toRect=d,l.thisAnimationDuration&&mt(m,d)&&!mt(c,d)&&(g.top-d.top)/(g.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(u=Go(g,m,w,a.options)),mt(d,c)||(l.prevFromRect=c,l.prevToRect=d,u||(u=a.options.animation),a.animate(l,g,d,u)),u&&(r=!0,i=Math.max(i,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),t=[]},animate:function(n,a,r,i){if(i){b(n,"transition",""),b(n,"transform","");var s=Ie(this.el),u=s&&s.a,l=s&&s.d,c=(a.left-r.left)/(u||1),d=(a.top-r.top)/(l||1);n.animatingX=!!c,n.animatingY=!!d,b(n,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Ro(n),b(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),b(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){b(n,"transition",""),b(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Ro(t){return t.offsetWidth}function Go(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Se=[],ht={initializeByDefault:!0},Be={mount:function(e){for(var o in ht)ht.hasOwnProperty(o)&&!(o in e)&&(e[o]=ht[o]);Se.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Se.push(e)},pluginEvent:function(e,o,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Se.forEach(function(i){o[i.pluginName]&&(o[i.pluginName][r]&&o[i.pluginName][r](re({sortable:o},n)),o.options[i.pluginName]&&o[i.pluginName][e]&&o[i.pluginName][e](re({sortable:o},n)))})},initializePlugins:function(e,o,n,a){Se.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var l=new s(e,o,e.options);l.sortable=e,l.options=e.options,e[u]=l,ue(n,l.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,o){var n={};return Se.forEach(function(a){typeof a.eventProperties=="function"&&ue(n,a.eventProperties.call(o[a.pluginName],e))}),n},modifyOption:function(e,o,n){var a;return Se.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(a=r.optionListeners[o].call(e[r.pluginName],n))}),a}};function jo(t){var e=t.sortable,o=t.rootEl,n=t.name,a=t.targetEl,r=t.cloneEl,i=t.toEl,s=t.fromEl,u=t.oldIndex,l=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,m=t.originalEvent,w=t.putSortable,g=t.extraEventProperties;if(e=e||o&&o[Z],!!e){var S,N=e.options,X="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ce&&!ze?S=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(n,!0,!0)),S.to=i||o,S.from=s||o,S.item=a||o,S.clone=r,S.oldIndex=u,S.newIndex=l,S.oldDraggableIndex=c,S.newDraggableIndex=d,S.originalEvent=m,S.pullMode=w?w.lastPutMode:void 0;var O=re(re({},g),Be.getEventProperties(n,e));for(var I in O)S[I]=O[I];o&&o.dispatchEvent(S),N[X]&&N[X].call(e,S)}}var $o=["evt"],z=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=xo(n,$o);Be.pluginEvent.bind(y)(e,o,re({dragEl:f,parentEl:M,ghostEl:E,rootEl:x,nextEl:we,lastDownEl:Qe,cloneEl:P,cloneHidden:me,dragStarted:Fe,putSortable:j,activeSortable:y.active,originalEvent:a,oldIndex:Te,oldDraggableIndex:Xe,newIndex:q,newDraggableIndex:pe,hideGhostForTarget:hn,unhideGhostForTarget:gn,cloneNowHidden:function(){me=!0},cloneNowShown:function(){me=!1},dispatchSortableEvent:function(s){W({sortable:o,name:s,originalEvent:a})}},r))};function W(t){jo(re({putSortable:j,cloneEl:P,targetEl:f,rootEl:x,oldIndex:Te,oldDraggableIndex:Xe,newIndex:q,newDraggableIndex:pe},t))}var f,M,E,x,we,Qe,P,me,Te,q,Xe,pe,Le,j,Ce=!1,lt=!1,st=[],be,te,gt,_t,zt,Bt,Fe,De,Ve,We=!1,He=!1,Je,$,vt=[],Dt=!1,ut=[],ft=typeof document<"u",qe=an,Yt=ze||ce?"cssFloat":"float",Uo=ft&&!rn&&!an&&"draggable"in document.createElement("div"),fn=function(){if(ft){if(ce)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),pn=function(e,o){var n=b(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=xe(e,0,o),i=xe(e,1,o),s=r&&b(r),u=i&&b(i),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+F(r).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+F(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return i&&(u.clear==="both"||u.clear===d)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=a&&n[Yt]==="none"||i&&n[Yt]==="none"&&l+c>a)?"vertical":"horizontal"},Xo=function(e,o,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,s=n?o.left:o.top,u=n?o.right:o.bottom,l=n?o.width:o.height;return a===s||r===u||a+i/2===s+l/2},Vo=function(e,o){var n;return st.some(function(a){var r=a[Z].options.emptyInsertThreshold;if(!(!r||Pt(a))){var i=F(a),s=e>=i.left-r&&e<=i.right+r,u=o>=i.top-r&&o<=i.bottom+r;if(s&&u)return n=a}}),n},mn=function(e){function o(r,i){return function(s,u,l,c){var d=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(r==null&&(i||d))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return o(r(s,u,l,c),i)(s,u,l,c);var m=(i?s:u).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var n={},a=e.group;(!a||Ze(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=o(a.pull,!0),n.checkPut=o(a.put),n.revertClone=a.revertClone,e.group=n},hn=function(){!fn&&E&&b(E,"display","none")},gn=function(){!fn&&E&&b(E,"display","")};ft&&!rn&&document.addEventListener("click",function(t){if(lt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),lt=!1,!1},!0);var ye=function(e){if(f){e=e.touches?e.touches[0]:e;var o=Vo(e.clientX,e.clientY);if(o){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[Z]._onDragOver(n)}}},Wo=function(e){f&&f.parentNode[Z]._isOutsideThisEl(e.target)};function y(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ue({},e),t[Z]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&!$e,emptyInsertThreshold:5};Be.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);mn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Uo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(t,"pointerdown",this._onTapStart):(T(t,"mousedown",this._onTapStart),T(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(t,"dragover",this),T(t,"dragenter",this)),st.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ue(this,Fo())}y.prototype={constructor:y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(De=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,f):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,a=this.options,r=a.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,c=a.filter;if(Zo(n),!f&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&$e&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=oe(u,a.draggable,n,!1),!(u&&u.animated)&&Qe!==u)){if(Te=J(u),Xe=J(u,a.draggable),typeof c=="function"){if(c.call(this,e,u,this)){W({sortable:o,rootEl:l,name:"filter",targetEl:u,toEl:n,fromEl:n}),z("filter",o,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=oe(l,d.trim(),n,!1),d)return W({sortable:o,rootEl:d,name:"filter",targetEl:u,fromEl:n,toEl:n}),z("filter",o,{evt:e}),!0}),c)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!oe(l,a.handle,n,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,o,n){var a=this,r=a.el,i=a.options,s=r.ownerDocument,u;if(n&&!f&&n.parentNode===r){var l=F(n);if(x=r,f=n,M=f.parentNode,we=f.nextSibling,Qe=n,Le=i.group,y.dragged=f,be={target:f,clientX:(o||e).clientX,clientY:(o||e).clientY},zt=be.clientX-l.left,Bt=be.clientY-l.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,f.style["will-change"]="all",u=function(){if(z("delayEnded",a,{evt:e}),y.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ut&&a.nativeDraggable&&(f.draggable=!0),a._triggerDragStart(e,o),W({sortable:a,name:"choose",originalEvent:e}),H(f,i.chosenClass,!0)},i.ignore.split(",").forEach(function(c){sn(f,c.trim(),bt)}),T(s,"dragover",ye),T(s,"mousemove",ye),T(s,"touchmove",ye),T(s,"mouseup",a._onDrop),T(s,"touchend",a._onDrop),T(s,"touchcancel",a._onDrop),Ut&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),z("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(ze||ce))){if(y.eventCanceled){this._onDrop();return}T(s,"mouseup",a._disableDelayedDrag),T(s,"touchend",a._disableDelayedDrag),T(s,"touchcancel",a._disableDelayedDrag),T(s,"mousemove",a._delayedDragTouchMoveHandler),T(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&T(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,i.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&bt(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):o?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(f,"dragend",this),T(x,"dragstart",this._onDragStart));try{document.selection?et(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Ce=!1,x&&f){z("dragStarted",this,{evt:o}),this.nativeDraggable&&T(document,"dragover",Wo);var n=this.options;!e&&H(f,n.dragClass,!1),H(f,n.ghostClass,!0),y.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(te){this._lastX=te.clientX,this._lastY=te.clientY,hn();for(var e=document.elementFromPoint(te.clientX,te.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(te.clientX,te.clientY),e!==o);)o=e;if(f.parentNode[Z]._isOutsideThisEl(e),o)do{if(o[Z]){var n=void 0;if(n=o[Z]._onDragOver({clientX:te.clientX,clientY:te.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);gn()}},_onTouchMove:function(e){if(be){var o=this.options,n=o.fallbackTolerance,a=o.fallbackOffset,r=e.touches?e.touches[0]:e,i=E&&Ie(E,!0),s=E&&i&&i.a,u=E&&i&&i.d,l=qe&&$&&Wt($),c=(r.clientX-be.clientX+a.x)/(s||1)+(l?l[0]-vt[0]:0)/(s||1),d=(r.clientY-be.clientY+a.y)/(u||1)+(l?l[1]-vt[1]:0)/(u||1);if(!y.active&&!Ce){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(E){i?(i.e+=c-(gt||0),i.f+=d-(_t||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var m="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");b(E,"webkitTransform",m),b(E,"mozTransform",m),b(E,"msTransform",m),b(E,"transform",m),gt=c,_t=d,te=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!E){var e=this.options.fallbackOnBody?document.body:x,o=F(f,!0,qe,!0,e),n=this.options;if(qe){for($=e;b($,"position")==="static"&&b($,"transform")==="none"&&$!==document;)$=$.parentNode;$!==document.body&&$!==document.documentElement?($===document&&($=ae()),o.top+=$.scrollTop,o.left+=$.scrollLeft):$=ae(),vt=Wt($)}E=f.cloneNode(!0),H(E,n.ghostClass,!1),H(E,n.fallbackClass,!0),H(E,n.dragClass,!0),b(E,"transition",""),b(E,"transform",""),b(E,"box-sizing","border-box"),b(E,"margin",0),b(E,"top",o.top),b(E,"left",o.left),b(E,"width",o.width),b(E,"height",o.height),b(E,"opacity","0.8"),b(E,"position",qe?"absolute":"fixed"),b(E,"zIndex","100000"),b(E,"pointerEvents","none"),y.ghost=E,e.appendChild(E),b(E,"transform-origin",zt/parseInt(E.style.width)*100+"% "+Bt/parseInt(E.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,a=e.dataTransfer,r=n.options;if(z("dragStart",this,{evt:e}),y.eventCanceled){this._onDrop();return}z("setupClone",this),y.eventCanceled||(P=dn(f),P.removeAttribute("id"),P.draggable=!1,P.style["will-change"]="",this._hideClone(),H(P,this.options.chosenClass,!1),y.clone=P),n.cloneId=et(function(){z("clone",n),!y.eventCanceled&&(n.options.removeCloneOnHide||x.insertBefore(P,f),n._hideClone(),W({sortable:n,name:"clone"}))}),!o&&H(f,r.dragClass,!0),o?(lt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(D(document,"mouseup",n._onDrop),D(document,"touchend",n._onDrop),D(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,f)),T(document,"drop",n),b(f,"transform","translateZ(0)")),Ce=!0,n._dragStartId=et(n._dragStarted.bind(n,o,e)),T(document,"selectstart",n),Fe=!0,$e&&b(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,a,r,i,s=this.options,u=s.group,l=y.active,c=Le===u,d=s.sort,m=j||l,w,g=this,S=!1;if(Dt)return;function N(ke,yn){z(ke,g,re({evt:e,isOwner:c,axis:w?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:d,fromSortable:m,target:n,completed:O,onMove:function(Nt,wn){return Ke(x,o,f,a,Nt,F(Nt),e,wn)},changed:I},yn))}function X(){N("dragOverAnimationCapture"),g.captureAnimationState(),g!==m&&m.captureAnimationState()}function O(ke){return N("dragOverCompleted",{insertion:ke}),ke&&(c?l._hideClone():l._showClone(g),g!==m&&(H(f,j?j.options.ghostClass:l.options.ghostClass,!1),H(f,s.ghostClass,!0)),j!==g&&g!==y.active?j=g:g===y.active&&j&&(j=null),m===g&&(g._ignoreWhileAnimating=n),g.animateAll(function(){N("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===f&&!f.animated||n===o&&!n.animated)&&(De=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(f.parentNode[Z]._isOutsideThisEl(e.target),!ke&&ye(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function I(){q=J(f),pe=J(f,s.draggable),W({sortable:g,name:"change",toEl:o,newIndex:q,newDraggableIndex:pe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=oe(n,s.draggable,o,!0),N("dragOver"),y.eventCanceled)return S;if(f.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return O(!1);if(lt=!1,l&&!s.disabled&&(c?d||(i=M!==x):j===this||(this.lastPutMode=Le.checkPull(this,l,f,e))&&u.checkPut(this,l,f,e))){if(w=this._getDirection(e,n)==="vertical",a=F(f),N("dragOverValid"),y.eventCanceled)return S;if(i)return M=x,X(),this._hideClone(),N("revert"),y.eventCanceled||(we?x.insertBefore(f,we):x.appendChild(f)),O(!0);var _=Pt(o,s.draggable);if(!_||Lo(e,w,this)&&!_.animated){if(_===f)return O(!1);if(_&&o===e.target&&(n=_),n&&(r=F(n)),Ke(x,o,f,a,n,r,e,!!n)!==!1)return X(),_&&_.nextSibling?o.insertBefore(f,_.nextSibling):o.appendChild(f),M=o,I(),O(!0)}else if(_&&Yo(e,w,this)){var V=xe(o,0,s,!0);if(V===f)return O(!1);if(n=V,r=F(n),Ke(x,o,f,a,n,r,e,!1)!==!1)return X(),o.insertBefore(f,V),M=o,I(),O(!0)}else if(n.parentNode===o){r=F(n);var ne=0,_e,Pe=f.parentNode!==o,L=!Xo(f.animated&&f.toRect||a,n.animated&&n.toRect||r,w),Ae=w?"top":"left",de=Vt(n,"top","top")||Vt(f,"top","top"),Me=de?de.scrollTop:void 0;De!==n&&(_e=r[Ae],We=!1,He=!L&&s.invertSwap||Pe),ne=Ho(e,n,r,w,L?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,He,De===n);var ie;if(ne!==0){var ve=J(f);do ve-=ne,ie=M.children[ve];while(ie&&(b(ie,"display")==="none"||ie===E))}if(ne===0||ie===n)return O(!1);De=n,Ve=ne;var Ne=n.nextElementSibling,fe=!1;fe=ne===1;var Ye=Ke(x,o,f,a,n,r,e,fe);if(Ye!==!1)return(Ye===1||Ye===-1)&&(fe=Ye===1),Dt=!0,setTimeout(Bo,30),X(),fe&&!Ne?o.appendChild(f):n.parentNode.insertBefore(f,fe?Ne:n),de&&cn(de,0,Me-de.scrollTop),M=f.parentNode,_e!==void 0&&!He&&(Je=Math.abs(_e-F(n)[Ae])),I(),O(!0)}if(o.contains(f))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",ye),D(document,"mousemove",ye),D(document,"touchmove",ye)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(q=J(f),pe=J(f,n.draggable),z("drop",this,{evt:e}),M=f&&f.parentNode,q=J(f),pe=J(f,n.draggable),y.eventCanceled){this._nulling();return}Ce=!1,He=!1,We=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ct(this.cloneId),Ct(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$e&&b(document.body,"user-select",""),b(f,"transform",""),e&&(Fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),E&&E.parentNode&&E.parentNode.removeChild(E),(x===M||j&&j.lastPutMode!=="clone")&&P&&P.parentNode&&P.parentNode.removeChild(P),f&&(this.nativeDraggable&&D(f,"dragend",this),bt(f),f.style["will-change"]="",Fe&&!Ce&&H(f,j?j.options.ghostClass:this.options.ghostClass,!1),H(f,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:M,newIndex:null,newDraggableIndex:null,originalEvent:e}),x!==M?(q>=0&&(W({rootEl:M,name:"add",toEl:M,fromEl:x,originalEvent:e}),W({sortable:this,name:"remove",toEl:M,originalEvent:e}),W({rootEl:M,name:"sort",toEl:M,fromEl:x,originalEvent:e}),W({sortable:this,name:"sort",toEl:M,originalEvent:e})),j&&j.save()):q!==Te&&q>=0&&(W({sortable:this,name:"update",toEl:M,originalEvent:e}),W({sortable:this,name:"sort",toEl:M,originalEvent:e})),y.active&&((q==null||q===-1)&&(q=Te,pe=Xe),W({sortable:this,name:"end",toEl:M,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){z("nulling",this),x=f=M=E=we=P=Qe=me=be=te=Fe=q=pe=Te=Xe=De=Ve=j=Le=y.dragged=y.ghost=y.clone=y.active=null,ut.forEach(function(e){e.checked=!0}),ut.length=gt=_t=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),zo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,a=0,r=n.length,i=this.options;a<r;a++)o=n[a],oe(o,i.draggable,this.el,!1)&&e.push(o.getAttribute(i.dataIdAttr)||Ko(o));return e},sort:function(e,o){var n={},a=this.el;this.toArray().forEach(function(r,i){var s=a.children[i];oe(s,this.options.draggable,a,!1)&&(n[r]=s)},this),o&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return oe(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var a=Be.modifyOption(this,e,o);typeof a<"u"?n[e]=a:n[e]=o,e==="group"&&mn(n)},destroy:function(){z("destroy",this);var e=this.el;e[Z]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),st.splice(st.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!me){if(z("hideClone",this),y.eventCanceled)return;b(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(me){if(z("showClone",this),y.eventCanceled)return;f.parentNode==x&&!this.options.group.revertClone?x.insertBefore(P,f):we?x.insertBefore(P,we):x.appendChild(P),this.options.group.revertClone&&this.animate(f,P),b(P,"display",""),me=!1}}};function zo(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ke(t,e,o,n,a,r,i,s){var u,l=t[Z],c=l.options.onMove,d;return window.CustomEvent&&!ce&&!ze?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=o,u.draggedRect=n,u.related=a||e,u.relatedRect=r||F(e),u.willInsertAfter=s,u.originalEvent=i,t.dispatchEvent(u),c&&(d=c.call(l,u,i)),d}function bt(t){t.draggable=!1}function Bo(){Dt=!1}function Yo(t,e,o){var n=F(xe(o.el,0,o.options,!0)),a=10;return e?t.clientX<n.left-a||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-a||t.clientY<n.bottom&&t.clientX<n.left}function Lo(t,e,o){var n=F(Pt(o.el,o.options.draggable)),a=10;return e?t.clientX>n.right+a||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+a}function Ho(t,e,o,n,a,r,i,s){var u=n?t.clientY:t.clientX,l=n?o.height:o.width,c=n?o.top:o.left,d=n?o.bottom:o.right,m=!1;if(!i){if(s&&Je<l*a){if(!We&&(Ve===1?u>c+l*r/2:u<d-l*r/2)&&(We=!0),We)m=!0;else if(Ve===1?u<c+Je:u>d-Je)return-Ve}else if(u>c+l*(1-a)/2&&u<d-l*(1-a)/2)return qo(e)}return m=m||i,m&&(u<c+l*r/2||u>d-l*r/2)?u>c+l/2?1:-1:0}function qo(t){return J(f)<J(t)?1:-1}function Ko(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function Zo(t){ut.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&ut.push(n)}}function et(t){return setTimeout(t,0)}function Ct(t){return clearTimeout(t)}ft&&T(document,"touchmove",function(t){(y.active||Ce)&&t.cancelable&&t.preventDefault()});y.utils={on:T,off:D,css:b,find:sn,is:function(e,o){return!!oe(e,o,e,!1)},extend:No,throttle:un,closest:oe,toggleClass:H,clone:dn,index:J,nextTick:et,cancelNextTick:Ct,detectDirection:pn,getChild:xe};y.get=function(t){return t[Z]};y.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(y.utils=re(re({},y.utils),n.utils)),Be.mount(n)})};y.create=function(t,e){return new y(t,e)};y.version=Po;var k=[],Re,Tt,Ot=!1,yt,wt,ct,Ge;function Qo(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):n.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):(D(document,"pointermove",this._handleFallbackAutoScroll),D(document,"touchmove",this._handleFallbackAutoScroll),D(document,"mousemove",this._handleFallbackAutoScroll)),Lt(),tt(),ko()},nulling:function(){ct=Tt=Re=Ot=Ge=yt=wt=null,k.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var a=this,r=(o.touches?o.touches[0]:o).clientX,i=(o.touches?o.touches[0]:o).clientY,s=document.elementFromPoint(r,i);if(ct=o,n||this.options.forceAutoScrollFallback||ze||ce||$e){Et(o,this.options,s,n);var u=ge(s,!0);Ot&&(!Ge||r!==yt||i!==wt)&&(Ge&&Lt(),Ge=setInterval(function(){var l=ge(document.elementFromPoint(r,i),!0);l!==u&&(u=l,tt()),Et(o,a.options,l,n)},10),yt=r,wt=i)}else{if(!this.options.bubbleScroll||ge(s,!0)===ae()){tt();return}Et(o,this.options,ge(s,!1),!1)}}},ue(t,{pluginName:"scroll",initializeByDefault:!0})}function tt(){k.forEach(function(t){clearInterval(t.pid)}),k=[]}function Lt(){clearInterval(Ge)}var Et=un(function(t,e,o,n){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,u=ae(),l=!1,c;Tt!==o&&(Tt=o,tt(),Re=e.scroll,c=e.scrollFn,Re===!0&&(Re=ge(o,!0)));var d=0,m=Re;do{var w=m,g=F(w),S=g.top,N=g.bottom,X=g.left,O=g.right,I=g.width,_=g.height,V=void 0,ne=void 0,_e=w.scrollWidth,Pe=w.scrollHeight,L=b(w),Ae=w.scrollLeft,de=w.scrollTop;w===u?(V=I<_e&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),ne=_<Pe&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(V=I<_e&&(L.overflowX==="auto"||L.overflowX==="scroll"),ne=_<Pe&&(L.overflowY==="auto"||L.overflowY==="scroll"));var Me=V&&(Math.abs(O-a)<=i&&Ae+I<_e)-(Math.abs(X-a)<=i&&!!Ae),ie=ne&&(Math.abs(N-r)<=i&&de+_<Pe)-(Math.abs(S-r)<=i&&!!de);if(!k[d])for(var ve=0;ve<=d;ve++)k[ve]||(k[ve]={});(k[d].vx!=Me||k[d].vy!=ie||k[d].el!==w)&&(k[d].el=w,k[d].vx=Me,k[d].vy=ie,clearInterval(k[d].pid),(Me!=0||ie!=0)&&(l=!0,k[d].pid=setInterval(function(){n&&this.layer===0&&y.active._onTouchMove(ct);var Ne=k[this.layer].vy?k[this.layer].vy*s:0,fe=k[this.layer].vx?k[this.layer].vx*s:0;typeof c=="function"&&c.call(y.dragged.parentNode[Z],fe,Ne,t,ct,k[this.layer].el)!=="continue"||cn(k[this.layer].el,fe,Ne)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&m!==u&&(m=ge(m,!1)));Ot=l}},30),_n=function(e){var o=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(o){var l=n||r;s();var c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,d=document.elementFromPoint(c.clientX,c.clientY);u(),l&&!l.el.contains(d)&&(i("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function At(){}At.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=xe(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:_n};ue(At,{pluginName:"revertOnSpill"});function Mt(){}Mt.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:_n};ue(Mt,{pluginName:"removeOnSpill"});y.mount(new Qo);y.mount(Mt,At);const Jo={sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,disabled:!1,store:null,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",preventOnFilter:!0,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:1,direction:"horizontal",forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,dragoverBubble:!1,removeCloneOnHide:!0,emptyInsertThreshold:5};function ea(t){t.parentNode&&t.parentNode.removeChild(t)}function ta(t){return/^[a-z][a-z0-9]*$/.test(t)}const Ht=Symbol("dragData"),vn=["setData","chooseData","onChoose","onUnchoose","onStart","onEnd","onAdd","onUpdate","onSort","onRemove","onFilter","onMove","onClone","onChange"],na=vn.reduce((t,e)=>(t[e]=Function,t),{});function oa({props:t,emit:e}){const o=Q(),{modelValue:n}=nt(t),a=Q();function r(){p(a)&&p(a).destroy();const i=An()?.vnode.el,s={onAdd(l){const{pullMode:c,newIndex:d}=l;if(c){const m=he(n.value),w=l.item[Ht];m.splice(d,0,w),ea(l.item),e("update:modelValue",m)}},onRemove(l){const{pullMode:c}=l;if(c===!0){const d=he(n.value);d.splice(l.oldIndex,1),e("update:modelValue",d)}},onEnd(l){const{pullMode:c,oldIndex:d,newIndex:m}=l;if(!c){const w=he(n.value),g=w.splice(d,1);w.splice(m,0,...g),e("update:modelValue",w)}}},u=vn.filter(l=>t[l]).reduce((l,c)=>(l[c]=t[c],l),{});a.value=new y(i,{...Jo,...t.config,...s,...u,onChoose(l){let d=he(n.value)[l.oldIndex];u.chooseData&&(d=u.chooseData(d,l.oldIndex)),l.item[Ht]=d}})}return[o,{init:r,sortableInstance:a}]}const bn=Y({name:"LDraggable",props:{modelValue:{type:Array,required:!0,default:()=>[]},tag:{type:String,required:!1,default:"div"},config:{type:Object,required:!1,default:void 0},...na},emits:["update:modelValue"],setup(t,{slots:e,emit:o,attrs:n,expose:a}){const{tag:r}=t,i=ta(r);let s=r;i||(s=A(r));const[u,{init:l,sortableInstance:c}]=oa({props:t,emit:o});return xt(()=>{l()}),a({getInstance:()=>p(c)}),()=>{const{modelValue:d}=t;let m=i?e.empty?.():()=>e.empty?.();return d.length&&(m=i?e.default?.():()=>e.default?.()),G(s,{...n,ref:u},m)}}}),aa={class:"components-title"},ra=Y({name:"LeftPanel",inheritAttrs:!0}),ia=Y({...ra,setup(t){const e=Q([]);xt(async()=>{e.value=await Ln()});const o=({icon:n})=>{const a=he(Hn(n));return a.__uuid__=at(),a.__vModel__=rt(`${n}-`),a.__layout__.span=24,a};return(n,a)=>{const r=A("svg-icon");return C(!0),R(U,null,ee(p(e),(i,s)=>(C(),R("section",{key:s,class:"components-panel"},[K("div",aa,[h(r,{class:"svg-icon-r",name:"component"}),K("span",null,ot(i.title),1)]),h(p(bn),{modelValue:i.list,"onUpdate:modelValue":u=>i.list=u,class:"components-draggable",config:{group:{name:p(en),pull:"clone",put:!1,revertClone:!0},sort:!1},"choose-data":o},{default:v(()=>[(C(!0),R(U,null,ee(i.list,u=>(C(),R("div",{key:u.__uuid__,class:"lc-draggable"},[h(r,{name:u.icon},null,8,["name"]),K("span",null,ot(u.text),1)]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","config"])]))),128)}}});const la=dt(ia,[["__scopeId","data-v-59a717f8"]]),sa=[{value:"small",label:"较小"},{value:"medium",label:"中等"},{value:"large",label:"较大"}],ua=[{value:"left",label:"左置"},{value:"top",label:"上置"}],ca=[{value:"left",label:"左对齐"},{value:"right",label:"右对齐"}],da=["px","em"],fa=[{value:"left",label:"左侧"},{value:"right",label:"右侧"},{value:"right-hanging",label:"右侧悬挂"}],qt={RadioGroup(t){const{type:e,options:o,space:n}=t,a=e==="button",r=A(a?"n-radio-button":"n-radio"),i=A("n-space");return a?o.map(s=>G(r,s)):G(i,n,()=>o.map(s=>G(r,s)))}},St=Y({name:"WidgetItem",props:{field:{type:Object,default:()=>({})},model:{type:Object,default:()=>({})}},setup(t){return{FormItem:A("n-form-item"),getFieldValue:a=>{const{model:r}=t;return a.includes(".")?a.split(".").reduce((u,l)=>u?.[l],r):t?.model?.[a]},setFieldValue:(a,r)=>{const{model:i}=nt(t);if(a.includes(".")){const s=a.split("."),[u,...l]=s.reverse(),c=l.reverse().reduce((d,m)=>d[m],i.value);c[u]=r}else i&&i.value&&(i.value[a]=r)}}},render(t){const{FormItem:e,getFieldValue:o,setFieldValue:n,field:a}=t,r=A(a.component),i=qt[r.name]&&qt[r.name](a.slot);return G(e,{label:a.label,path:a.path,"label-placement":"left"},()=>G(r,{...a.props,value:o(a.path),"onUpdate:value":s=>{Object.values(a.emits||"").forEach(u=>{u(t.model,s)}),n(a.path,s)}},()=>i))}}),pa=Y({name:"WidgetSetting",inheritAttrs:!0}),ma=Y({...pa,props:{widget:{default:void 0}},setup(t){const e=t,{common:o,rules:n}=Rt,a=Ee(()=>{const{tagType:r}=e.widget;return Rt[r]});return(r,i)=>{const s=Mn,u=Nn,l=Qt;return C(),B(l,{class:"widget-setting",model:e.widget},{default:v(()=>[h(u,{"default-expanded-names":"rulesConfig",accordion:""},{default:v(()=>[h(s,{title:"基础属性",name:"commonConfig"},{default:v(()=>[(C(!0),R(U,null,ee(p(o),c=>(C(),B(p(St),{key:c.label,field:c,model:e.widget},null,8,["field","model"]))),128))]),_:1}),h(s,{title:"高级属性",name:"extendConfig"},{default:v(()=>[(C(!0),R(U,null,ee(p(a),c=>(C(),B(p(St),{key:c.label,field:c,model:e.widget},null,8,["field","model"]))),128))]),_:1}),h(s,{title:"校验规则",name:"rulesConfig"},{default:v(()=>[(C(!0),R(U,null,ee(p(n),c=>(C(),B(p(St),{key:c.label,field:c,model:e.widget},null,8,["field","model"]))),128))]),_:1})]),_:1}),le(" "+ot(r.widget),1)]),_:1},8,["model"])}}}),ha={class:"right-tab"},ga={class:"right-content"},_a=Y({name:"RightPanel",inheritAttrs:!0}),va=Y({..._a,props:{designer:{default:void 0},form:{},widget:{default:void 0}},setup(t){const e=t,o={widget:"组件属性",form:"表单属性"},n=Q("widget"),{form:a,widget:r}=nt(e),i=da.map(u=>({label:u,value:u})),s=Ee({get(){return e.form.fromGrid.xGap},set(u){const{fromGrid:l}=nt(e.form);l.value.xGap=l.value.yGap=u}});return(u,l)=>{const c=kn,d=Fn,m=Jt,w=Rn,g=Gn,S=jn,N=$n,X=qn,O=Un,I=It;return C(),R(U,null,[K("div",ha,[h(d,{value:p(n),"onUpdate:value":l[0]||(l[0]=_=>je(n)?n.value=_:null),"justify-content":"space-evenly",type:"line"},{default:v(()=>[(C(),R(U,null,ee(o,(_,V)=>h(c,{key:V,name:V},{default:v(()=>[le(ot(_),1)]),_:2},1032,["name"])),64))]),_:1},8,["value"])]),h(I,{class:"app-panel"},{default:v(()=>[K("div",ga,[p(n)==="widget"?(C(),R(U,{key:0},[p(r)?(C(),B(ma,{key:p(r).__uuid__,widget:p(r),"onUpdate:widget":l[1]||(l[1]=_=>je(r)?r.value=_:null)},null,8,["widget"])):(C(),B(m,{key:1,size:"huge",description:"未选择控件"}))],64)):kt("",!0),p(n)==="form"?(C(),R(U,{key:1},[h(g,{label:"表单名称","label-placement":"left"},{default:v(()=>[h(w,{value:p(a).name,"onUpdate:value":l[2]||(l[2]=_=>p(a).name=_)},null,8,["value"])]),_:1}),h(g,{label:"表单尺寸","label-placement":"left"},{default:v(()=>[h(N,{value:p(a).fromGlobal.size,"onUpdate:value":l[3]||(l[3]=_=>p(a).fromGlobal.size=_),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),R(U,null,ee(p(sa),_=>(C(),B(S,{key:_.value,value:_.value,label:_.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),h(g,{label:"标签位置","label-placement":"left"},{default:v(()=>[h(N,{value:p(a).fromGlobal.labelPlacement,"onUpdate:value":l[4]||(l[4]=_=>p(a).fromGlobal.labelPlacement=_),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),R(U,null,ee(p(ua),_=>(C(),B(S,{key:_.value,value:_.value,label:_.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),h(g,{label:"标签对齐","label-placement":"left"},{default:v(()=>[h(N,{value:p(a).fromGlobal.labelAlign,"onUpdate:value":l[5]||(l[5]=_=>p(a).fromGlobal.labelAlign=_),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),R(U,null,ee(p(ca),_=>(C(),B(S,{key:_.value,value:_.value,label:_.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),h(g,{label:"标签宽度","label-placement":"left"},{default:v(()=>[h(X,{value:p(a).fromGlobal.labelWidth,"onUpdate:value":l[6]||(l[6]=_=>p(a).fromGlobal.labelWidth=_),options:p(i)},null,8,["value","options"])]),_:1}),h(g,{label:"栅格间隔","label-placement":"left"},{default:v(()=>[h(O,{value:p(s),"onUpdate:value":l[7]||(l[7]=_=>je(s)?s.value=_:null),"button-placement":"both",precision:0,step:"1",max:"999"},null,8,["value"])]),_:1}),h(g,{label:"星号位置","label-placement":"left"},{default:v(()=>[h(N,{value:p(a).fromGlobal.requireMarkPlacement,"onUpdate:value":l[8]||(l[8]=_=>p(a).fromGlobal.requireMarkPlacement=_),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),R(U,null,ee(p(fa),_=>(C(),B(S,{key:_.value,value:_.value,label:_.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1})],64)):kt("",!0)])]),_:1})],64)}}});const ba=dt(va,[["__scopeId","data-v-cb5f3074"]]),ya=()=>{const t=Q(),e=Q({}),o=Q(),n=Q({name:"",fromGrid:Zn,fromGlobal:Qn,items:[]}),a=new Kn(50),r={undo(){const i=a.go(-1);n.value.items=i},redo(){const i=a.go(1);n.value.items=i},preview(i){i.value=!0},empty(){n.value.items.length&&(n.value.items=[],r.storage())},save(){console.log("widgets-Config",e.value,n.value)},getConf(){return n.value},getActiveWidget(){return o},setActiveWidget(i){o.value=i},copyWidget(i){const s={...i,__uuid__:at(),__vModel__:rt(i.tag)};n.value.items.push(s)},deleteWidget(i){n.value.items.splice(i,1),r.storage()},storage(){a.push(n.value.items)}};return[r,{formData:e,formConfig:n,elFormRef:t,activeWidget:o}]},wa=t=>(Bn("data-v-8dfb8a0c"),t=t(),Yn(),t),Ea={class:"app-left"},Sa=wa(()=>K("div",{class:"left-logo"},"表单设计器",-1)),Da={class:"app-center"},Ca={class:"form-tool"},Ta=["onClick"],Oa=["onClick"],Ia={class:"app-right"},xa=Y({name:"PageEditor",inheritAttrs:!0}),Pa=Y({...xa,setup(t){const e={group:{name:Gt,pull:!0,put:[en,Gt]}},[o,{formData:n,formConfig:a,elFormRef:r,activeWidget:i}]=ya(),s=Ee(()=>{const{items:c}=a.value;return tn(c)}),u=c=>{a.value.items=c,o.storage()},l=()=>{a.value.fromGrid.xGap=24};return xt(()=>{a.value.items=Object.keys(pt).map(c=>({...pt[c],__uuid__:at(),__vModel__:rt(pt[c].tag+Math.random().toString(36).replace(".",""))})),a.value.items=[he(a.value.items[0]),{...a.value.items[0],__uuid__:at(),__vModel__:rt()}],o.storage()}),(c,d)=>{const m=It,w=Zt,g=Vn,S=Jt,N=Wn,X=Qt,O=zn;return C(),B(O,{class:"app-container",tag:"section"},{default:v(()=>[K("div",Ea,[Sa,h(m,{class:"app-panel left-panel"},{default:v(()=>[h(la)]),_:1})]),K("div",Da,[h(To,{designer:p(o),onOnEmpty:l},null,8,["designer"]),h(m,{class:"app-panel"},{default:v(()=>[h(X,Oe({ref_key:"elFormRef",ref:r},p(a).fromGlobal,{model:p(n),rules:p(s)}),{default:v(()=>[h(p(bn),Oe(p(a).fromGrid,{"model-value":p(a).items,config:e,tag:"NGrid",class:"center-editor","onUpdate:modelValue":u}),{empty:v(()=>[h(N,{span:24,class:"center-empty",draggable:"false"},{default:v(()=>[h(S,{size:"huge",description:"从左侧选择控件进行表单设计"})]),_:1})]),default:v(()=>[(C(!0),R(U,null,ee(p(a).items,(I,_)=>(C(),B(g,Oe({key:I.__uuid__},I.__layout__,{label:I.label,"show-feedback":!1,path:I.__vModel__,class:["center-row",{on:p(i)?.__uuid__===I.__uuid__}],onClick:V=>p(o).setActiveWidget(I)}),{default:v(()=>[h(p(on),{value:p(n)[I.__vModel__],"onUpdate:value":V=>p(n)[I.__vModel__]=V,conf:I},null,8,["value","onUpdate:value","conf"]),K("div",Ca,[K("span",{class:"form-tool-btn icon-copy",onClick:Ft(V=>p(o).copyWidget(I),["stop"])},[h(w,{size:"16",component:p(Xn)},null,8,["component"])],8,Ta),K("span",{class:"form-tool-btn icon-delete",onClick:Ft(V=>p(o).deleteWidget(_),["stop"])},[h(w,{size:"16",component:p(Kt)},null,8,["component"])],8,Oa)])]),_:2},1040,["label","path","class","onClick"]))),128))]),_:1},16,["model-value"])]),_:1},16,["model","rules"])]),_:1})]),K("div",Ia,[h(ba,{designer:p(o),widget:p(i),form:p(a)},null,8,["designer","widget","form"])])]),_:1})}}});const ka=dt(Pa,[["__scopeId","data-v-8dfb8a0c"]]);export{ka as default};
