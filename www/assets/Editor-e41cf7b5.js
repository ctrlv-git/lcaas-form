import{aI as we,d as F,o as x,aE as N,aF as P,aJ as Nn,a as v,w,u as p,aK as ye,Z as Ht,aw as Fn,D as jn,aB as fe,t as tt,aL as $n,r as K,aC as Dt,az as H,aM as pe,aN as J,aO as nt,c as ae,aP as Rn,aQ as Bn,U as qt,k as Gn,m as ct,aR as At,aS as zn,as as Wn,aT as Jt,n as Vn,V as Xn,ae as Ln,af as Un,$ as Yn,aU as Kt,aV as qe,aW as Pt,W as Hn,Y as qn,T as Jn,aG as Kn,aH as Zn}from"./vendor-09a7dd38.js";import{_ as st}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as Qn,g as Tt,a as xt,b as eo}from"./index-9ca1e291.js";class to{step=0;max=0;#e=[];constructor(e=100){this.max=e??100}get value(){return this.#e[this.step-1]}set value(e){this.push(we(e))}undo(){return this.go(-1)}redo(){return this.go(1)}go(e){return e=this.step+e,e=Math.max(0,Math.min(e,this.max,this.#e.length)),this.step=e,this.#e[this.step-1]}empty(){this.step=0,this.#e=[]}push(e){this.#e.length=this.step,this.#e.length>=this.max?this.#e.shift():this.step+=1,this.#e.push(we(e))}}const no={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},oo=P("path",{d:"M448 256L272 88v96C103.57 184 64 304.77 64 424c48.61-62.24 91.6-96 208-96v96z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),ao=[oo],ro=F({name:"ArrowRedoOutline",render:function(e,n){return x(),N("svg",no,ao)}}),io={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},lo=P("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),so=[lo],uo=F({name:"ArrowUndoOutline",render:function(e,n){return x(),N("svg",io,so)}}),co={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},fo=P("path",{d:"M238.23 342.43l89.09-74.13a16 16 0 0 0 0-24.6l-89.09-74.13A16 16 0 0 0 212 181.86v148.28a16 16 0 0 0 26.23 12.29z",fill:"currentColor"},null,-1),po=P("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),_o=[fo,po],ho=F({name:"CaretForwardCircleOutline",render:function(e,n){return x(),N("svg",co,_o)}}),go={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mo=P("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),vo=P("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),bo=[mo,vo],yo=F({name:"CopyOutline",render:function(e,n){return x(),N("svg",go,bo)}}),wo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Eo=Nn('<path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M80 112h352" fill="currentColor"></path><path d="M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M184 176l8 224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M328 176l-8 224"></path>',6),So=[Eo],Zt=F({name:"TrashOutline",render:function(e,n){return x(),N("svg",wo,So)}}),Do={class:"center-toolbar"},To=F({name:"CenterToolbar",inheritAttrs:!0}),xo=F({...To,props:{designer:{default:void 0}},emits:["onUndo","onRedo","onPreview","onEmpty","onSave"],setup(t,{emit:e}){const n=t,o=a=>{const i=`on${a.replace(/^\S/,s=>s.toUpperCase())}`;n?.designer[a](),e(i)};return(a,r)=>{const i=Ht,s=Fn,u=jn;return x(),N("div",Do,[v(u,{quaternary:"",circle:"",size:"small",onClick:r[0]||(r[0]=l=>o("undo"))},{icon:w(()=>[v(s,null,{trigger:w(()=>[v(i,{component:p(uo)},null,8,["component"])]),default:w(()=>[ye(" 撤销 ")]),_:1})]),_:1}),v(u,{quaternary:"",circle:"",size:"small",onClick:r[1]||(r[1]=l=>o("redo"))},{icon:w(()=>[v(s,null,{trigger:w(()=>[v(i,{component:p(ro)},null,8,["component"])]),default:w(()=>[ye(" 恢复 ")]),_:1})]),_:1}),v(u,{quaternary:"",circle:"",size:"small",type:"info",onClick:r[2]||(r[2]=l=>o("preview"))},{icon:w(()=>[v(s,null,{trigger:w(()=>[v(i,{component:p(ho)},null,8,["component"])]),default:w(()=>[ye(" 预览 ")]),_:1})]),_:1}),v(u,{quaternary:"",circle:"",size:"small",type:"error",onClick:r[3]||(r[3]=l=>o("empty"))},{icon:w(()=>[v(s,null,{trigger:w(()=>[v(i,{component:p(Zt)},null,8,["component"])]),default:w(()=>[ye(" 清空 ")]),_:1})]),_:1}),v(u,{size:"small",type:"primary",onClick:r[4]||(r[4]=l=>o("save"))},{default:w(()=>[ye("保存")]),_:1})])}}});const Co=st(xo,[["__scopeId","data-v-e29b253c"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mt(Object(n),!0).forEach(function(o){Oo(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Je(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(e){return typeof e}:Je=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(t)}function Oo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(){return ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ie.apply(this,arguments)}function ko(t,e){if(t==null)return{};var n={},o=Object.keys(t),a,r;for(r=0;r<o.length;r++)a=o[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Io(t,e){if(t==null)return{};var n=ko(t,e),o,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var Ao="1.15.0";function re(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var le=re(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),We=re(/Edge/i),Nt=re(/firefox/i),je=re(/safari/i)&&!re(/chrome/i)&&!re(/android/i),Qt=re(/iP(ad|od|hone)/i),en=re(/chrome/i)&&re(/android/i),tn={capture:!1,passive:!1};function T(t,e,n){t.addEventListener(e,n,!le&&tn)}function D(t,e,n){t.removeEventListener(e,n,!le&&tn)}function ot(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Po(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ee(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ot(t,e):ot(t,e))||o&&t===n)return t;if(t===n)break}while(t=Po(t))}return null}var Ft=/\s+/g;function X(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(Ft," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(Ft," ")}}function g(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function xe(t,e){var n="";if(typeof t=="string")n=t;else do{var o=g(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function nn(t,e,n){if(t){var o=t.getElementsByTagName(e),a=0,r=o.length;if(n)for(;a<r;a++)n(o[a],a);return o}return[]}function te(){var t=document.scrollingElement;return t||document.documentElement}function M(t,e,n,o,a){if(!(!t.getBoundingClientRect&&t!==window)){var r,i,s,u,l,f,c;if(t!==window&&t.parentNode&&t!==te()?(r=t.getBoundingClientRect(),i=r.top,s=r.left,u=r.bottom,l=r.right,f=r.height,c=r.width):(i=0,s=0,u=window.innerHeight,l=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(a=a||t.parentNode,!le))do if(a&&a.getBoundingClientRect&&(g(a,"transform")!=="none"||n&&g(a,"position")!=="static")){var _=a.getBoundingClientRect();i-=_.top+parseInt(g(a,"border-top-width")),s-=_.left+parseInt(g(a,"border-left-width")),u=i+r.height,l=s+r.width;break}while(a=a.parentNode);if(o&&t!==window){var E=xe(a||t),b=E&&E.a,S=E&&E.d;E&&(i/=S,s/=b,c/=b,f/=S,u=i+f,l=s+c)}return{top:i,left:s,bottom:u,right:l,width:c,height:f}}}function jt(t,e,n){for(var o=_e(t,!0),a=M(t)[e];o;){var r=M(o)[n],i=void 0;if(n==="top"||n==="left"?i=a>=r:i=a<=r,!i)return o;if(o===te())break;o=_e(o,!1)}return!1}function Ce(t,e,n,o){for(var a=0,r=0,i=t.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==m.ghost&&(o||i[r]!==m.dragged)&&ee(i[r],n.draggable,t,!1)){if(a===e)return i[r];a++}r++}return null}function Ct(t,e){for(var n=t.lastElementChild;n&&(n===m.ghost||g(n,"display")==="none"||e&&!ot(n,e));)n=n.previousElementSibling;return n||null}function Y(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==m.clone&&(!e||ot(t,e))&&n++;return n}function $t(t){var e=0,n=0,o=te();if(t)do{var a=xe(t),r=a.a,i=a.d;e+=t.scrollLeft*r,n+=t.scrollTop*i}while(t!==o&&(t=t.parentNode));return[e,n]}function Mo(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function _e(t,e){if(!t||!t.getBoundingClientRect)return te();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=g(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return te();if(o||e)return n;o=!0}}while(n=n.parentNode);return te()}function No(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function dt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var $e;function on(t,e){return function(){if(!$e){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),$e=setTimeout(function(){$e=void 0},e)}}}function Fo(){clearTimeout($e),$e=void 0}function an(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function rn(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var U="Sortable"+new Date().getTime();function jo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(g(a,"display")==="none"||a===m.ghost)){t.push({target:a,rect:M(a)});var r=ne({},t[t.length-1].rect);if(a.thisAnimationDuration){var i=xe(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(Mo(t,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var r=!1,i=0;t.forEach(function(s){var u=0,l=s.target,f=l.fromRect,c=M(l),_=l.prevFromRect,E=l.prevToRect,b=s.rect,S=xe(l,!0);S&&(c.top-=S.f,c.left-=S.e),l.toRect=c,l.thisAnimationDuration&&dt(_,c)&&!dt(f,c)&&(b.top-c.top)/(b.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(u=Ro(b,_,E,a.options)),dt(c,f)||(l.prevFromRect=f,l.prevToRect=c,u||(u=a.options.animation),a.animate(l,b,c,u)),u&&(r=!0,i=Math.max(i,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(e),r?e=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),t=[]},animate:function(o,a,r,i){if(i){g(o,"transition",""),g(o,"transform","");var s=xe(this.el),u=s&&s.a,l=s&&s.d,f=(a.left-r.left)/(u||1),c=(a.top-r.top)/(l||1);o.animatingX=!!f,o.animatingY=!!c,g(o,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=$o(o),g(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),g(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){g(o,"transition",""),g(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function $o(t){return t.offsetWidth}function Ro(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Ee=[],ft={initializeByDefault:!0},Ve={mount:function(e){for(var n in ft)ft.hasOwnProperty(n)&&!(n in e)&&(e[n]=ft[n]);Ee.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ee.push(e)},pluginEvent:function(e,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Ee.forEach(function(i){n[i.pluginName]&&(n[i.pluginName][r]&&n[i.pluginName][r](ne({sortable:n},o)),n.options[i.pluginName]&&n[i.pluginName][e]&&n[i.pluginName][e](ne({sortable:n},o)))})},initializePlugins:function(e,n,o,a){Ee.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var l=new s(e,n,e.options);l.sortable=e,l.options=e.options,e[u]=l,ie(o,l.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,n){var o={};return Ee.forEach(function(a){typeof a.eventProperties=="function"&&ie(o,a.eventProperties.call(n[a.pluginName],e))}),o},modifyOption:function(e,n,o){var a;return Ee.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(a=r.optionListeners[n].call(e[r.pluginName],o))}),a}};function Bo(t){var e=t.sortable,n=t.rootEl,o=t.name,a=t.targetEl,r=t.cloneEl,i=t.toEl,s=t.fromEl,u=t.oldIndex,l=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,_=t.originalEvent,E=t.putSortable,b=t.extraEventProperties;if(e=e||n&&n[U],!!e){var S,j=e.options,W="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!le&&!We?S=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(o,!0,!0)),S.to=i||n,S.from=s||n,S.item=a||n,S.clone=r,S.oldIndex=u,S.newIndex=l,S.oldDraggableIndex=f,S.newDraggableIndex=c,S.originalEvent=_,S.pullMode=E?E.lastPutMode:void 0;var C=ne(ne({},b),Ve.getEventProperties(o,e));for(var B in C)S[B]=C[B];n&&n.dispatchEvent(S),j[W]&&j[W].call(e,S)}}var Go=["evt"],z=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,r=Io(o,Go);Ve.pluginEvent.bind(m)(e,n,ne({dragEl:d,parentEl:I,ghostEl:y,rootEl:O,nextEl:be,lastDownEl:Ke,cloneEl:k,cloneHidden:de,dragStarted:Me,putSortable:$,activeSortable:m.active,originalEvent:a,oldIndex:Te,oldDraggableIndex:Re,newIndex:L,newDraggableIndex:ce,hideGhostForTarget:cn,unhideGhostForTarget:dn,cloneNowHidden:function(){de=!0},cloneNowShown:function(){de=!1},dispatchSortableEvent:function(s){G({sortable:n,name:s,originalEvent:a})}},r))};function G(t){Bo(ne({putSortable:$,cloneEl:k,targetEl:d,rootEl:O,oldIndex:Te,oldDraggableIndex:Re,newIndex:L,newDraggableIndex:ce},t))}var d,I,y,O,be,Ke,k,de,Te,L,Re,ce,Le,$,De=!1,at=!1,rt=[],me,q,pt,_t,Rt,Bt,Me,Se,Be,Ge=!1,Ue=!1,Ze,R,ht=[],yt=!1,it=[],ut=typeof document<"u",Ye=Qt,Gt=We||le?"cssFloat":"float",zo=ut&&!en&&!Qt&&"draggable"in document.createElement("div"),ln=function(){if(ut){if(le)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),sn=function(e,n){var o=g(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Ce(e,0,n),i=Ce(e,1,n),s=r&&g(r),u=i&&g(i),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(r).width,f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+M(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var c=s.float==="left"?"left":"right";return i&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=a&&o[Gt]==="none"||i&&o[Gt]==="none"&&l+f>a)?"vertical":"horizontal"},Wo=function(e,n,o){var a=o?e.left:e.top,r=o?e.right:e.bottom,i=o?e.width:e.height,s=o?n.left:n.top,u=o?n.right:n.bottom,l=o?n.width:n.height;return a===s||r===u||a+i/2===s+l/2},Vo=function(e,n){var o;return rt.some(function(a){var r=a[U].options.emptyInsertThreshold;if(!(!r||Ct(a))){var i=M(a),s=e>=i.left-r&&e<=i.right+r,u=n>=i.top-r&&n<=i.bottom+r;if(s&&u)return o=a}}),o},un=function(e){function n(r,i){return function(s,u,l,f){var c=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(r==null&&(i||c))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return n(r(s,u,l,f),i)(s,u,l,f);var _=(i?s:u).options.group.name;return r===!0||typeof r=="string"&&r===_||r.join&&r.indexOf(_)>-1}}var o={},a=e.group;(!a||Je(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,e.group=o},cn=function(){!ln&&y&&g(y,"display","none")},dn=function(){!ln&&y&&g(y,"display","")};ut&&!en&&document.addEventListener("click",function(t){if(at)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),at=!1,!1},!0);var ve=function(e){if(d){e=e.touches?e.touches[0]:e;var n=Vo(e.clientX,e.clientY);if(n){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[U]._onDragOver(o)}}},Xo=function(e){d&&d.parentNode[U]._isOutsideThisEl(e.target)};function m(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ie({},e),t[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return sn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:m.supportPointer!==!1&&"PointerEvent"in window&&!je,emptyInsertThreshold:5};Ve.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);un(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:zo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(t,"pointerdown",this._onTapStart):(T(t,"mousedown",this._onTapStart),T(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(t,"dragover",this),T(t,"dragenter",this)),rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ie(this,jo())}m.prototype={constructor:m,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Se=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,a=this.options,r=a.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,f=a.filter;if(Zo(o),!d&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&je&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=ee(u,a.draggable,o,!1),!(u&&u.animated)&&Ke!==u)){if(Te=Y(u),Re=Y(u,a.draggable),typeof f=="function"){if(f.call(this,e,u,this)){G({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:o,fromEl:o}),z("filter",n,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=ee(l,c.trim(),o,!1),c)return G({sortable:n,rootEl:c,name:"filter",targetEl:u,fromEl:o,toEl:o}),z("filter",n,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!ee(l,a.handle,o,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,n,o){var a=this,r=a.el,i=a.options,s=r.ownerDocument,u;if(o&&!d&&o.parentNode===r){var l=M(o);if(O=r,d=o,I=d.parentNode,be=d.nextSibling,Ke=o,Le=i.group,m.dragged=d,me={target:d,clientX:(n||e).clientX,clientY:(n||e).clientY},Rt=me.clientX-l.left,Bt=me.clientY-l.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,d.style["will-change"]="all",u=function(){if(z("delayEnded",a,{evt:e}),m.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Nt&&a.nativeDraggable&&(d.draggable=!0),a._triggerDragStart(e,n),G({sortable:a,name:"choose",originalEvent:e}),X(d,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){nn(d,f.trim(),gt)}),T(s,"dragover",ve),T(s,"mousemove",ve),T(s,"touchmove",ve),T(s,"mouseup",a._onDrop),T(s,"touchend",a._onDrop),T(s,"touchcancel",a._onDrop),Nt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),z("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(We||le))){if(m.eventCanceled){this._onDrop();return}T(s,"mouseup",a._disableDelayedDrag),T(s,"touchend",a._disableDelayedDrag),T(s,"touchcancel",a._disableDelayedDrag),T(s,"mousemove",a._delayedDragTouchMoveHandler),T(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&T(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,i.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&gt(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):n?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(d,"dragend",this),T(O,"dragstart",this._onDragStart));try{document.selection?Qe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(De=!1,O&&d){z("dragStarted",this,{evt:n}),this.nativeDraggable&&T(document,"dragover",Xo);var o=this.options;!e&&X(d,o.dragClass,!1),X(d,o.ghostClass,!0),m.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(q){this._lastX=q.clientX,this._lastY=q.clientY,cn();for(var e=document.elementFromPoint(q.clientX,q.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(q.clientX,q.clientY),e!==n);)n=e;if(d.parentNode[U]._isOutsideThisEl(e),n)do{if(n[U]){var o=void 0;if(o=n[U]._onDragOver({clientX:q.clientX,clientY:q.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);dn()}},_onTouchMove:function(e){if(me){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,r=e.touches?e.touches[0]:e,i=y&&xe(y,!0),s=y&&i&&i.a,u=y&&i&&i.d,l=Ye&&R&&$t(R),f=(r.clientX-me.clientX+a.x)/(s||1)+(l?l[0]-ht[0]:0)/(s||1),c=(r.clientY-me.clientY+a.y)/(u||1)+(l?l[1]-ht[1]:0)/(u||1);if(!m.active&&!De){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(y){i?(i.e+=f-(pt||0),i.f+=c-(_t||0)):i={a:1,b:0,c:0,d:1,e:f,f:c};var _="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");g(y,"webkitTransform",_),g(y,"mozTransform",_),g(y,"msTransform",_),g(y,"transform",_),pt=f,_t=c,q=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:O,n=M(d,!0,Ye,!0,e),o=this.options;if(Ye){for(R=e;g(R,"position")==="static"&&g(R,"transform")==="none"&&R!==document;)R=R.parentNode;R!==document.body&&R!==document.documentElement?(R===document&&(R=te()),n.top+=R.scrollTop,n.left+=R.scrollLeft):R=te(),ht=$t(R)}y=d.cloneNode(!0),X(y,o.ghostClass,!1),X(y,o.fallbackClass,!0),X(y,o.dragClass,!0),g(y,"transition",""),g(y,"transform",""),g(y,"box-sizing","border-box"),g(y,"margin",0),g(y,"top",n.top),g(y,"left",n.left),g(y,"width",n.width),g(y,"height",n.height),g(y,"opacity","0.8"),g(y,"position",Ye?"absolute":"fixed"),g(y,"zIndex","100000"),g(y,"pointerEvents","none"),m.ghost=y,e.appendChild(y),g(y,"transform-origin",Rt/parseInt(y.style.width)*100+"% "+Bt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,a=e.dataTransfer,r=o.options;if(z("dragStart",this,{evt:e}),m.eventCanceled){this._onDrop();return}z("setupClone",this),m.eventCanceled||(k=rn(d),k.removeAttribute("id"),k.draggable=!1,k.style["will-change"]="",this._hideClone(),X(k,this.options.chosenClass,!1),m.clone=k),o.cloneId=Qe(function(){z("clone",o),!m.eventCanceled&&(o.options.removeCloneOnHide||O.insertBefore(k,d),o._hideClone(),G({sortable:o,name:"clone"}))}),!n&&X(d,r.dragClass,!0),n?(at=!0,o._loopId=setInterval(o._emulateDragOver,50)):(D(document,"mouseup",o._onDrop),D(document,"touchend",o._onDrop),D(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(o,a,d)),T(document,"drop",o),g(d,"transform","translateZ(0)")),De=!0,o._dragStartId=Qe(o._dragStarted.bind(o,n,e)),T(document,"selectstart",o),Me=!0,je&&g(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,a,r,i,s=this.options,u=s.group,l=m.active,f=Le===u,c=s.sort,_=$||l,E,b=this,S=!1;if(yt)return;function j(Pe,Pn){z(Pe,b,ne({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:c,fromSortable:_,target:o,completed:C,onMove:function(It,Mn){return He(O,n,d,a,It,M(It),e,Mn)},changed:B},Pn))}function W(){j("dragOverAnimationCapture"),b.captureAnimationState(),b!==_&&_.captureAnimationState()}function C(Pe){return j("dragOverCompleted",{insertion:Pe}),Pe&&(f?l._hideClone():l._showClone(b),b!==_&&(X(d,$?$.options.ghostClass:l.options.ghostClass,!1),X(d,s.ghostClass,!0)),$!==b&&b!==m.active?$=b:b===m.active&&$&&($=null),_===b&&(b._ignoreWhileAnimating=o),b.animateAll(function(){j("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==_&&(_.animateAll(),_._ignoreWhileAnimating=null)),(o===d&&!d.animated||o===n&&!o.animated)&&(Se=null),!s.dragoverBubble&&!e.rootEl&&o!==document&&(d.parentNode[U]._isOutsideThisEl(e.target),!Pe&&ve(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function B(){L=Y(d),ce=Y(d,s.draggable),G({sortable:b,name:"change",toEl:n,newIndex:L,newDraggableIndex:ce,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=ee(o,s.draggable,n,!0),j("dragOver"),m.eventCanceled)return S;if(d.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||b._ignoreWhileAnimating===o)return C(!1);if(at=!1,l&&!s.disabled&&(f?c||(i=I!==O):$===this||(this.lastPutMode=Le.checkPull(this,l,d,e))&&u.checkPut(this,l,d,e))){if(E=this._getDirection(e,o)==="vertical",a=M(d),j("dragOverValid"),m.eventCanceled)return S;if(i)return I=O,W(),this._hideClone(),j("revert"),m.eventCanceled||(be?O.insertBefore(d,be):O.appendChild(d)),C(!0);var h=Ct(n,s.draggable);if(!h||Ho(e,E,this)&&!h.animated){if(h===d)return C(!1);if(h&&n===e.target&&(o=h),o&&(r=M(o)),He(O,n,d,a,o,r,e,!!o)!==!1)return W(),h&&h.nextSibling?n.insertBefore(d,h.nextSibling):n.appendChild(d),I=n,B(),C(!0)}else if(h&&Yo(e,E,this)){var Z=Ce(n,0,s,!0);if(Z===d)return C(!1);if(o=Z,r=M(o),He(O,n,d,a,o,r,e,!1)!==!1)return W(),n.insertBefore(d,Z),I=n,B(),C(!0)}else if(o.parentNode===n){r=M(o);var Q=0,he,Oe=d.parentNode!==n,V=!Wo(d.animated&&d.toRect||a,o.animated&&o.toRect||r,E),ke=E?"top":"left",se=jt(o,"top","top")||jt(d,"top","top"),Ie=se?se.scrollTop:void 0;Se!==o&&(he=r[ke],Ge=!1,Ue=!V&&s.invertSwap||Oe),Q=qo(e,o,r,E,V?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Ue,Se===o);var oe;if(Q!==0){var ge=Y(d);do ge-=Q,oe=I.children[ge];while(oe&&(g(oe,"display")==="none"||oe===y))}if(Q===0||oe===o)return C(!1);Se=o,Be=Q;var Ae=o.nextElementSibling,ue=!1;ue=Q===1;var Xe=He(O,n,d,a,o,r,e,ue);if(Xe!==!1)return(Xe===1||Xe===-1)&&(ue=Xe===1),yt=!0,setTimeout(Uo,30),W(),ue&&!Ae?n.appendChild(d):o.parentNode.insertBefore(d,ue?Ae:o),se&&an(se,0,Ie-se.scrollTop),I=d.parentNode,he!==void 0&&!Ue&&(Ze=Math.abs(he-M(o)[ke])),B(),C(!0)}if(n.contains(d))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",ve),D(document,"mousemove",ve),D(document,"touchmove",ve)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(L=Y(d),ce=Y(d,o.draggable),z("drop",this,{evt:e}),I=d&&d.parentNode,L=Y(d),ce=Y(d,o.draggable),m.eventCanceled){this._nulling();return}De=!1,Ue=!1,Ge=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),wt(this.cloneId),wt(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),je&&g(document.body,"user-select",""),g(d,"transform",""),e&&(Me&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(O===I||$&&$.lastPutMode!=="clone")&&k&&k.parentNode&&k.parentNode.removeChild(k),d&&(this.nativeDraggable&&D(d,"dragend",this),gt(d),d.style["will-change"]="",Me&&!De&&X(d,$?$.options.ghostClass:this.options.ghostClass,!1),X(d,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:e}),O!==I?(L>=0&&(G({rootEl:I,name:"add",toEl:I,fromEl:O,originalEvent:e}),G({sortable:this,name:"remove",toEl:I,originalEvent:e}),G({rootEl:I,name:"sort",toEl:I,fromEl:O,originalEvent:e}),G({sortable:this,name:"sort",toEl:I,originalEvent:e})),$&&$.save()):L!==Te&&L>=0&&(G({sortable:this,name:"update",toEl:I,originalEvent:e}),G({sortable:this,name:"sort",toEl:I,originalEvent:e})),m.active&&((L==null||L===-1)&&(L=Te,ce=Re),G({sortable:this,name:"end",toEl:I,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){z("nulling",this),O=d=I=y=be=k=Ke=de=me=q=Me=L=ce=Te=Re=Se=Be=$=Le=m.dragged=m.ghost=m.clone=m.active=null,it.forEach(function(e){e.checked=!0}),it.length=pt=_t=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),Lo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,a=0,r=o.length,i=this.options;a<r;a++)n=o[a],ee(n,i.draggable,this.el,!1)&&e.push(n.getAttribute(i.dataIdAttr)||Ko(n));return e},sort:function(e,n){var o={},a=this.el;this.toArray().forEach(function(r,i){var s=a.children[i];ee(s,this.options.draggable,a,!1)&&(o[r]=s)},this),n&&this.captureAnimationState(),e.forEach(function(r){o[r]&&(a.removeChild(o[r]),a.appendChild(o[r]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return ee(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var a=Ve.modifyOption(this,e,n);typeof a<"u"?o[e]=a:o[e]=n,e==="group"&&un(o)},destroy:function(){z("destroy",this);var e=this.el;e[U]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rt.splice(rt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!de){if(z("hideClone",this),m.eventCanceled)return;g(k,"display","none"),this.options.removeCloneOnHide&&k.parentNode&&k.parentNode.removeChild(k),de=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(de){if(z("showClone",this),m.eventCanceled)return;d.parentNode==O&&!this.options.group.revertClone?O.insertBefore(k,d):be?O.insertBefore(k,be):O.appendChild(k),this.options.group.revertClone&&this.animate(d,k),g(k,"display",""),de=!1}}};function Lo(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function He(t,e,n,o,a,r,i,s){var u,l=t[U],f=l.options.onMove,c;return window.CustomEvent&&!le&&!We?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=n,u.draggedRect=o,u.related=a||e,u.relatedRect=r||M(e),u.willInsertAfter=s,u.originalEvent=i,t.dispatchEvent(u),f&&(c=f.call(l,u,i)),c}function gt(t){t.draggable=!1}function Uo(){yt=!1}function Yo(t,e,n){var o=M(Ce(n.el,0,n.options,!0)),a=10;return e?t.clientX<o.left-a||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-a||t.clientY<o.bottom&&t.clientX<o.left}function Ho(t,e,n){var o=M(Ct(n.el,n.options.draggable)),a=10;return e?t.clientX>o.right+a||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+a}function qo(t,e,n,o,a,r,i,s){var u=o?t.clientY:t.clientX,l=o?n.height:n.width,f=o?n.top:n.left,c=o?n.bottom:n.right,_=!1;if(!i){if(s&&Ze<l*a){if(!Ge&&(Be===1?u>f+l*r/2:u<c-l*r/2)&&(Ge=!0),Ge)_=!0;else if(Be===1?u<f+Ze:u>c-Ze)return-Be}else if(u>f+l*(1-a)/2&&u<c-l*(1-a)/2)return Jo(e)}return _=_||i,_&&(u<f+l*r/2||u>c-l*r/2)?u>f+l/2?1:-1:0}function Jo(t){return Y(d)<Y(t)?1:-1}function Ko(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Zo(t){it.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&it.push(o)}}function Qe(t){return setTimeout(t,0)}function wt(t){return clearTimeout(t)}ut&&T(document,"touchmove",function(t){(m.active||De)&&t.cancelable&&t.preventDefault()});m.utils={on:T,off:D,css:g,find:nn,is:function(e,n){return!!ee(e,n,e,!1)},extend:No,throttle:on,closest:ee,toggleClass:X,clone:rn,index:Y,nextTick:Qe,cancelNextTick:wt,detectDirection:sn,getChild:Ce};m.get=function(t){return t[U]};m.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(m.utils=ne(ne({},m.utils),o.utils)),Ve.mount(o)})};m.create=function(t,e){return new m(t,e)};m.version=Ao;var A=[],Ne,Et,St=!1,mt,vt,lt,Fe;function Qo(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):o.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):(D(document,"pointermove",this._handleFallbackAutoScroll),D(document,"touchmove",this._handleFallbackAutoScroll),D(document,"mousemove",this._handleFallbackAutoScroll)),zt(),et(),Fo()},nulling:function(){lt=Et=Ne=St=Fe=mt=vt=null,A.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,r=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(r,i);if(lt=n,o||this.options.forceAutoScrollFallback||We||le||je){bt(n,this.options,s,o);var u=_e(s,!0);St&&(!Fe||r!==mt||i!==vt)&&(Fe&&zt(),Fe=setInterval(function(){var l=_e(document.elementFromPoint(r,i),!0);l!==u&&(u=l,et()),bt(n,a.options,l,o)},10),mt=r,vt=i)}else{if(!this.options.bubbleScroll||_e(s,!0)===te()){et();return}bt(n,this.options,_e(s,!1),!1)}}},ie(t,{pluginName:"scroll",initializeByDefault:!0})}function et(){A.forEach(function(t){clearInterval(t.pid)}),A=[]}function zt(){clearInterval(Fe)}var bt=on(function(t,e,n,o){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,u=te(),l=!1,f;Et!==n&&(Et=n,et(),Ne=e.scroll,f=e.scrollFn,Ne===!0&&(Ne=_e(n,!0)));var c=0,_=Ne;do{var E=_,b=M(E),S=b.top,j=b.bottom,W=b.left,C=b.right,B=b.width,h=b.height,Z=void 0,Q=void 0,he=E.scrollWidth,Oe=E.scrollHeight,V=g(E),ke=E.scrollLeft,se=E.scrollTop;E===u?(Z=B<he&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),Q=h<Oe&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(Z=B<he&&(V.overflowX==="auto"||V.overflowX==="scroll"),Q=h<Oe&&(V.overflowY==="auto"||V.overflowY==="scroll"));var Ie=Z&&(Math.abs(C-a)<=i&&ke+B<he)-(Math.abs(W-a)<=i&&!!ke),oe=Q&&(Math.abs(j-r)<=i&&se+h<Oe)-(Math.abs(S-r)<=i&&!!se);if(!A[c])for(var ge=0;ge<=c;ge++)A[ge]||(A[ge]={});(A[c].vx!=Ie||A[c].vy!=oe||A[c].el!==E)&&(A[c].el=E,A[c].vx=Ie,A[c].vy=oe,clearInterval(A[c].pid),(Ie!=0||oe!=0)&&(l=!0,A[c].pid=setInterval(function(){o&&this.layer===0&&m.active._onTouchMove(lt);var Ae=A[this.layer].vy?A[this.layer].vy*s:0,ue=A[this.layer].vx?A[this.layer].vx*s:0;typeof f=="function"&&f.call(m.dragged.parentNode[U],ue,Ae,t,lt,A[this.layer].el)!=="continue"||an(A[this.layer].el,ue,Ae)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&_!==u&&(_=_e(_,!1)));St=l}},30),fn=function(e){var n=e.originalEvent,o=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(n){var l=o||r;s();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);u(),l&&!l.el.contains(c)&&(i("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Ot(){}Ot.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Ce(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:fn};ie(Ot,{pluginName:"revertOnSpill"});function kt(){}kt.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:fn};ie(kt,{pluginName:"removeOnSpill"});m.mount(new Qo);m.mount(kt,Ot);const ea={sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,disabled:!1,store:null,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",preventOnFilter:!0,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:1,direction:"horizontal",forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,dragoverBubble:!1,removeCloneOnHide:!0,emptyInsertThreshold:5};function ta(t){t.parentNode&&t.parentNode.removeChild(t)}function na(t){return/^[a-z][a-z0-9]*$/.test(t)}const Wt=Symbol("dragData"),pn=["setData","chooseData","onChoose","onUnchoose","onStart","onEnd","onAdd","onUpdate","onSort","onRemove","onFilter","onMove","onClone","onChange"],oa=pn.reduce((t,e)=>(t[e]=Function,t),{});function aa({props:t,emit:e}){const n=fe(),{modelValue:o}=tt(t),a=fe();function r(){p(a)&&p(a).destroy();const i=$n()?.vnode.el,s={onAdd(l){const{pullMode:f,newIndex:c}=l;if(f){const _=we(o.value),E=l.item[Wt];_.splice(c,0,E),ta(l.item),e("update:modelValue",_)}},onRemove(l){const{pullMode:f}=l;if(f===!0){const c=we(o.value);c.splice(l.oldIndex,1),e("update:modelValue",c)}},onEnd(l){const{pullMode:f,oldIndex:c,newIndex:_}=l;if(!f){const E=we(o.value),b=E.splice(c,1);E.splice(_,0,...b),e("update:modelValue",E)}}},u=pn.filter(l=>t[l]).reduce((l,f)=>(l[f]=t[f],l),{});a.value=new m(i,{...ea,...t.config,...s,...u,onChoose(l){let c=we(o.value)[l.oldIndex];u.chooseData&&(c=u.chooseData(c,l.oldIndex)),l.item[Wt]=c}})}return[n,{init:r,sortableInstance:a}]}const _n=F({name:"LDraggable",props:{modelValue:{type:Array,required:!0,default:()=>[]},tag:{type:String,required:!1,default:"div"},config:{type:Object,required:!1,default:void 0},...oa},emits:["update:modelValue"],setup(t,{slots:e,emit:n,attrs:o,expose:a}){const{tag:r}=t,i=na(r);let s=r;i||(s=K(r));const[u,{init:l,sortableInstance:f}]=aa({props:t,emit:n});return Dt(()=>{l()}),a({getInstance:()=>p(f)}),()=>{const{modelValue:c}=t;let _=i?e.empty?.():()=>e.empty?.();return c.length&&(_=i?e.default?.():()=>e.default?.()),H(s,{...o,ref:u},_)}}}),hn={__uuid__:"",__vModel__:"",label:"单行文本",tag:"n-input",tagType:"input",__layout__:{span:24},__config__:{},__slot__:{prefix:"",suffix:""}},gn={__uuid__:"",__vModel__:"",label:"多行文本",tag:"n-input",tagType:"textarea",__layout__:{span:24},__config__:{type:"textarea"},__slot__:{prefix:"",suffix:""}},mn={__uuid__:"",__vModel__:"",label:"密码",tag:"n-input",tagType:"password",__layout__:{span:24},__config__:{type:"password","show-password-on":"mousedown"},__slot__:{prefix:"",suffix:""}},vn={__uuid__:"",__vModel__:"",label:"计数器",tag:"n-input-number",tagType:"number",__layout__:{span:24},__config__:{},__slot__:{"add-icon":"","minus-icon":"",prefix:"",suffix:""}},ra={input:hn,textarea:gn,password:mn,number:vn},ia=Object.freeze(Object.defineProperty({__proto__:null,default:ra,input:hn,number:vn,password:mn,textarea:gn},Symbol.toStringTag,{value:"Module"})),bn={__uuid__:"",__vModel__:"",label:"下拉选择",tag:"n-select",tagType:"select",__layout__:{span:24},__config__:{options:[{label:"选项一",value:"1"},{label:"选项二",value:"2"}]},__slot__:{}},yn={__uuid__:"",__vModel__:"",label:"级联选择",tag:"n-cascader",tagType:"cascader",__layout__:{span:24},__config__:{options:[{label:"选项A",value:"A",children:[{label:"选项A-1",value:"A-1"},{label:"选项A-2",value:"A-2"}]},{label:"选项B",value:"B",children:[{label:"选项B-1",value:"B-1"},{label:"选项B-2",value:"B-2"}]}]},__slot__:{}},wn={__uuid__:"",__vModel__:"",label:"单选",tag:"n-radio-group",tagType:"radio",__layout__:{span:24},__config__:{},__slot__:{default:{type:"radio",space:{},options:[{label:"选项一",value:"1"},{label:"选项二",value:"2"}]}}},En={__uuid__:"",__vModel__:"",label:"复选框",tag:"n-checkbox-group",tagType:"checkbox",__layout__:{span:24},__config__:{},__slot__:{default:{type:"radio",space:{},options:[{label:"选项一",value:"1"},{label:"选项二",value:"2"}]}}},Sn={__uuid__:"",__vModel__:"",label:"滑动选择",tag:"n-slider",tagType:"slider",__layout__:{span:24},__config__:{},__slot__:{thumb:""}},Dn={__uuid__:"",__vModel__:"",label:"日期选择",tag:"n-date-picker",tagType:"date",__layout__:{span:24},__config__:{},__slot__:{}},Tn={__uuid__:"",__vModel__:"",label:"时间选择",tag:"n-time-picker",tagType:"time",__layout__:{span:24},__config__:{},__slot__:{}},xn={__uuid__:"",__vModel__:"",label:"评分",tag:"n-rate",tagType:"rate",__layout__:{span:24},__config__:{},__slot__:{default:""}},Cn={__uuid__:"",__vModel__:"",label:"颜色选择",tag:"n-color-picker",tagType:"color",__layout__:{span:24},__config__:{},__slot__:{label:""}},la={select:bn,cascader:yn,radio:wn,checkbox:En,switch:{__uuid__:"",__vModel__:"",label:"开关",tag:"n-switch",tagType:"switch",__layout__:{span:24},__config__:{},__slot__:{checked:"",unchecked:"",icon:"","checked-icon":"","unchecked-icon":""}},slider:Sn,date:Dn,time:Tn,rate:xn,color:Cn},sa=Object.freeze(Object.defineProperty({__proto__:null,cascader:yn,checkbox:En,color:Cn,date:Dn,default:la,radio:wn,rate:xn,select:bn,slider:Sn,time:Tn},Symbol.toStringTag,{value:"Module"})),On=[{label:"字段名",path:"__vModel__",component:"n-input",props:{maxlength:100}},{label:"标题",path:"label",component:"n-input",props:{maxlength:100}},{label:"表单栅格",path:"__layout__.span",component:"n-slider",props:{min:1,max:24}},{label:"展示标签",path:"__layout__.showLabel",component:"n-switch",props:{"default-value":!0}},{label:"标签位置",path:"__layout__.labelPlacement",component:"n-radio-group",props:{},slot:{type:"button",space:{},options:[{value:"left",label:"左置"},{value:"top",label:"上置"}]}},{label:"标签对齐",path:"__layout__.labelAlign",component:"n-radio-group",props:{},slot:{type:"button",space:{},options:[{value:"left",label:"左对齐"},{value:"right",label:"右对齐"}]}},{label:"标签宽度",path:"__layout__.labelWidth",component:"input-unit",props:{options:[{value:"px",label:"px"},{value:"em",label:"em"}]}},{label:"默认值",path:"__config__.defaultValue",component:"n-input",props:{}},{label:"禁用",path:"__config__.disabled",component:"n-switch",props:{}}],ua={common:On},ca=Object.freeze(Object.defineProperty({__proto__:null,common:On,default:ua},Symbol.toStringTag,{value:"Module"})),kn=Symbol("leftDraggable"),Vt=Symbol("centerDraggable");async function da(){return await Qn(()=>import("./leftConfig-579c8054.js"),[]).then(t=>t.default)}const Xt=Object.assign({"./widgets/input-type.json":ia,"./widgets/select-type.json":sa}),ze={};Object.keys(Xt).forEach(t=>{const e=Xt[t].default||{};Object.assign(ze,e)});const Lt=Object.assign({"./fields/common.json":ca}),In={};Object.keys(Lt).forEach(t=>{const e=Lt[t].default||{};Object.assign(In,e)});function fa(t){return ze[t]}const pa={class:"components-title"},_a=F({name:"LeftPanel",inheritAttrs:!0}),ha=F({..._a,setup(t){const e=fe([]);Dt(async()=>{e.value=await da()});const n=({icon:o})=>{const a=fa(o);return a.__uuid__=Tt(),a.__vModel__=xt(`${o}-`),a.__layout__.span=3,we(a)};return(o,a)=>{const r=K("svg-icon");return x(!0),N(J,null,pe(p(e),(i,s)=>(x(),N("section",{key:s,class:"components-panel"},[P("div",pa,[v(r,{class:"svg-icon-r",name:"component"}),P("span",null,nt(i.title),1)]),v(p(_n),{modelValue:i.list,"onUpdate:modelValue":u=>i.list=u,class:"components-draggable",config:{group:{name:p(kn),pull:"clone",put:!1,revertClone:!0},sort:!1},"choose-data":n},{default:w(()=>[(x(!0),N(J,null,pe(i.list,u=>(x(),N("div",{key:u.__uuid__,class:"lc-draggable"},[v(r,{name:u.icon},null,8,["name"]),P("span",null,nt(u.text),1)]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","config"])]))),128)}}});const ga=st(ha,[["__scopeId","data-v-48bb8425"]]),ma=[{value:"small",label:"较小"},{value:"medium",label:"中等"},{value:"large",label:"较大"}],va=[{value:"left",label:"左置"},{value:"top",label:"上置"}],ba=[{value:"left",label:"左对齐"},{value:"right",label:"右对齐"}],ya=["px","em"],Ut={RadioGroup(t){const{type:e,options:n,space:o}=t,a=e==="button",r=K(a?"n-radio-button":"n-radio"),i=K("n-space");return a?n.map(s=>H(r,s)):H(i,o,()=>n.map(s=>H(r,s)))}},wa=F({name:"WidgetItem",props:{field:{type:Object,default:()=>({})},model:{type:Object,default:()=>({})}},setup(t){return{FormItem:K("n-form-item"),getFieldValue:a=>{const{model:r}=t;return a.includes(".")?a.split(".").reduce((u,l)=>u?.[l],r):t?.model?.[a]},setFieldValue:(a,r)=>{const{model:i}=tt(t);if(a.includes(".")){const s=a.split("."),[u,...l]=s.reverse(),f=l.reverse().reduce((c,_)=>c[_],i.value);f[u]=r}else i&&i.value&&(i.value[a]=r)}}},render(t){const{FormItem:e,getFieldValue:n,setFieldValue:o,field:a}=t,r=K(a.component),i=Ut[r.name]&&Ut[r.name](a.slot);return H(e,{label:a.label,path:a.path,"label-placement":"left"},()=>H(r,{...a.props,value:n(a.path),"onUpdate:value":s=>{o(a.path,s)}},()=>i))}}),Ea=P("div",null,"Java",-1),Sa=P("div",null,"Java",-1),Da=F({name:"WidgetSetting",inheritAttrs:!0}),Ta=F({...Da,props:{widget:{default:void 0}},setup(t){const e=t,{common:n}=In;return(o,a)=>{const r=Rn,i=Bn,s=qt;return x(),ae(s,{class:"widget-setting",model:e.widget},{default:w(()=>[v(i,{"default-expanded-names":"1",accordion:""},{default:w(()=>[v(r,{title:"基础属性",name:"1"},{default:w(()=>[(x(!0),N(J,null,pe(p(n),u=>(x(),ae(p(wa),{key:u.label,field:u,model:e.widget},null,8,["field","model"]))),128))]),_:1}),v(r,{title:"高级属性",name:"2"},{default:w(()=>[Ea]),_:1}),v(r,{title:"校验规则",name:"3"},{default:w(()=>[Sa]),_:1})]),_:1}),ye(" "+nt(o.widget),1)]),_:1},8,["model"])}}}),xa={class:"right-tab"},Ca={class:"right-content"},Oa=F({name:"RightPanel",inheritAttrs:!0}),ka=F({...Oa,props:{designer:{default:void 0},form:{},widget:{default:void 0}},setup(t){const e=t,n={widget:"组件属性",form:"表单属性"},o=fe("widget"),{form:a,widget:r}=tt(e),i=ya.map(u=>({label:u,value:u})),s=Gn({get(){return e.form.fromGrid.xGap},set(u){const{fromGrid:l}=tt(e.form);l.value.xGap=l.value.yGap=u}});return(u,l)=>{const f=zn,c=Wn,_=Jt,E=Vn,b=Xn,S=Ln,j=Un,W=eo,C=Yn,B=Kt;return x(),N(J,null,[P("div",xa,[v(c,{value:p(o),"onUpdate:value":l[0]||(l[0]=h=>ct(o)?o.value=h:null),"justify-content":"space-evenly",type:"line"},{default:w(()=>[(x(),N(J,null,pe(n,(h,Z)=>v(f,{key:Z,name:Z},{default:w(()=>[ye(nt(h),1)]),_:2},1032,["name"])),64))]),_:1},8,["value"])]),v(B,{class:"app-panel"},{default:w(()=>[P("div",Ca,[p(o)==="widget"?(x(),N(J,{key:0},[p(r)?(x(),ae(Ta,{key:0,widget:p(r),"onUpdate:widget":l[1]||(l[1]=h=>ct(r)?r.value=h:null)},null,8,["widget"])):(x(),ae(_,{key:1,size:"huge",description:"未选择控件"}))],64)):At("",!0),p(o)==="form"?(x(),N(J,{key:1},[v(b,{label:"表单名称","label-placement":"left"},{default:w(()=>[v(E,{value:p(a).name,"onUpdate:value":l[2]||(l[2]=h=>p(a).name=h)},null,8,["value"])]),_:1}),v(b,{label:"表单尺寸","label-placement":"left"},{default:w(()=>[v(j,{value:p(a).fromGlobal.size,"onUpdate:value":l[3]||(l[3]=h=>p(a).fromGlobal.size=h),name:"radiobuttongroup1"},{default:w(()=>[(x(!0),N(J,null,pe(p(ma),h=>(x(),ae(S,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),v(b,{label:"标签位置","label-placement":"left"},{default:w(()=>[v(j,{value:p(a).fromGlobal.labelPlacement,"onUpdate:value":l[4]||(l[4]=h=>p(a).fromGlobal.labelPlacement=h),name:"radiobuttongroup1"},{default:w(()=>[(x(!0),N(J,null,pe(p(va),h=>(x(),ae(S,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),v(b,{label:"标签对齐","label-placement":"left"},{default:w(()=>[v(j,{value:p(a).fromGlobal.labelAlign,"onUpdate:value":l[5]||(l[5]=h=>p(a).fromGlobal.labelAlign=h),name:"radiobuttongroup1"},{default:w(()=>[(x(!0),N(J,null,pe(p(ba),h=>(x(),ae(S,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),v(b,{label:"标签宽度","label-placement":"left"},{default:w(()=>[v(W,{value:p(a).fromGlobal.labelWidth,"onUpdate:value":l[6]||(l[6]=h=>p(a).fromGlobal.labelWidth=h),options:p(i)},null,8,["value","options"])]),_:1}),v(b,{label:"栅格间隔","label-placement":"left"},{default:w(()=>[v(C,{value:p(s),"onUpdate:value":l[7]||(l[7]=h=>ct(s)?s.value=h:null),"button-placement":"both",precision:0,step:"1",max:"999"},null,8,["value"])]),_:1})],64)):At("",!0)])]),_:1})],64)}}});const Ia=st(ka,[["__scopeId","data-v-c89ee7fb"]]),Aa={cols:24,xGap:12,yGap:12},Pa={size:"medium",labelPlacement:"left",labelAlign:"left"},Ma=()=>{const t=fe(),e=fe({}),n=fe(),o=fe({name:"",fromGrid:Aa,fromGlobal:Pa,items:[]}),a=new to(50),r={undo(){const i=a.go(-1);o.value.items=i},redo(){const i=a.go(1);o.value.items=i},preview(){console.log("preview-add",a,a.step)},empty(){o.value.items.length&&(o.value.items=[],r.storage())},save(){console.log("widgetsConfig",e.value,o.value)},getActiveWidget(){return n},setActiveWidget(i){n.value=i},copyWidget(i){const s={...i,__uuid__:Tt(),__vModel__:xt(i.tag)};o.value.items.push(s)},deleteWidget(i){o.value.items.splice(i,1),r.storage()},storage(){a.push(o.value.items)}};return[r,{formData:e,formConfig:o,elFormRef:t,activeWidget:n}]},Na={default(t){const{default:{options:e,space:n}}=t.__slot__,o=K("n-checkbox"),a=K("n-space");return H(a,n,()=>e.map(r=>H(o,r)))}},Fa=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"})),ja={prefix(t,e){return t.__slot__[e]},suffix(t,e){return t.__slot__[e]},"add-icon"(t,e){return t.__slot__[e]},"minu-icon"(t,e){return t.__slot__[e]}},$a=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Ra={prefix(t,e){return t.__slot__[e]},suffix(t,e){return t.__slot__[e]}},Ba=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),Ga={default(t){const{default:{type:e,options:n,space:o}}=t.__slot__,a=e==="button",r=K(a?"n-radio-button":"n-radio"),i=K("n-space");return a?n.map(s=>H(r,s)):H(i,o,()=>n.map(s=>H(r,s)))}},za=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),Wa={default(t,e){return t.__slot__[e]}},Va=Object.freeze(Object.defineProperty({__proto__:null,default:Wa},Symbol.toStringTag,{value:"Module"})),Xa={thumb(t,e){return t.__slot__[e]}},La=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),Ua={checked(t,e){return t.__slot__[e]},unchecked(t,e){return t.__slot__[e]},icon(t,e){return t.__slot__[e]},"checked-icon"(t,e){return t.__slot__[e]},"unchecked-icon"(t,e){return t.__slot__[e]}},Ya=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"}));function Ha(t){const e=t.split("/").at(-1),n=t.split(e).at(0),[o,...a]=e.split(".").reverse();return{dir:n,base:e,ext:`.${o}`,name:a.reverse().join(".")}}const An={},Yt=Object.assign({"./n-checkbox-group.ts":Fa,"./n-input-number.ts":$a,"./n-input.ts":Ba,"./n-radio-group.ts":za,"./n-rate.ts":Va,"./n-slider.ts":La,"./n-switch.ts":Ya});Object.keys(Yt).forEach(t=>{const e=Yt[t].default||{},{name:n}=Ha(t);An[n]=e});function qa(t){const{tag:e,__slot__:n}=t,o=An[e],a={};return o&&(o.default&&n.default&&(a.default=()=>o.default(t)),Object.keys(o).forEach(r=>{const i=o[r];n&&n[r]&&(a[r]=()=>i(t,r))})),a}const Ja=F({name:"LcFormItem",props:{value:{type:[String,Number,Object,Boolean],required:!1,default:void 0},conf:{type:Object,required:!0}},emits:["update:value"],setup(t,{attrs:e,emit:n}){return()=>{const{__config__:o,tag:a}=t.conf||{},r=qa(t.conf),i=K(a),s=qe({value:t.value,"onUpdate:value":u=>{n("update:value",u)}},o,e);return H(i,s,r)}}}),Ka=t=>(Kn("data-v-ffc6dbc6"),t=t(),Zn(),t),Za={class:"app-left"},Qa=Ka(()=>P("div",{class:"left-logo"},"表单设计器",-1)),er={class:"app-center"},tr={class:"form-tool"},nr=["onClick"],or=["onClick"],ar={class:"app-right"},rr=F({name:"PageEditor",inheritAttrs:!0}),ir=F({...rr,setup(t){const e={group:{name:Vt,pull:!0,put:[kn,Vt]}},[n,{formData:o,formConfig:a,elFormRef:r,activeWidget:i}]=Ma(),s=l=>{a.value.items=l,n.storage()},u=()=>{a.value.fromGrid.xGap=24};return Dt(()=>{a.value.items=Object.keys(ze).map(l=>({...ze[l],__uuid__:Tt(),__vModel__:xt(ze[l].tag+Math.random().toString(36).replace(".",""))})),n.storage()}),(l,f)=>{const c=Kt,_=Ht,E=Hn,b=Jt,S=qn,j=qt,W=Jn;return x(),ae(W,{class:"app-container",tag:"section"},{default:w(()=>[P("div",Za,[Qa,v(c,{class:"app-panel left-panel"},{default:w(()=>[v(ga)]),_:1})]),P("div",er,[v(Co,{designer:p(n),onOnEmpty:u},null,8,["designer"]),v(c,{class:"app-panel"},{default:w(()=>[v(j,qe({ref_key:"elFormRef",ref:r},p(a).fromGlobal,{model:p(o)}),{default:w(()=>[v(p(_n),qe(p(a).fromGrid,{"model-value":p(a).items,config:e,tag:"NGrid",class:"center-editor","onUpdate:modelValue":s}),{empty:w(()=>[v(S,{span:24,class:"center-empty",draggable:"false"},{default:w(()=>[v(b,{size:"huge",description:"从左侧选择控件进行表单设计"})]),_:1})]),default:w(()=>[(x(!0),N(J,null,pe(p(a).items,(C,B)=>(x(),ae(E,qe({key:C.__uuid__},C.__layout__,{label:C.label,"show-feedback":!1,class:["center-row",{on:p(i)?.__uuid__===C.__uuid__}],onClick:h=>p(n).setActiveWidget(C)}),{default:w(()=>[v(p(Ja),{value:p(o)[C.__vModel__],"onUpdate:value":h=>p(o)[C.__vModel__]=h,conf:C},null,8,["value","onUpdate:value","conf"]),P("div",tr,[P("span",{class:"form-tool-btn icon-copy",onClick:Pt(h=>p(n).copyWidget(C),["stop"])},[v(_,{size:"14",component:p(yo)},null,8,["component"])],8,nr),P("span",{class:"form-tool-btn icon-delete",onClick:Pt(h=>p(n).deleteWidget(B),["stop"])},[v(_,{size:"14",component:p(Zt)},null,8,["component"])],8,or)])]),_:2},1040,["label","class","onClick"]))),128))]),_:1},16,["model-value"])]),_:1},16,["model"])]),_:1})]),P("div",ar,[v(Ia,{designer:p(n),widget:p(i),form:p(a)},null,8,["designer","widget","form"])])]),_:1})}}});const dr=st(ir,[["__scopeId","data-v-ffc6dbc6"]]);export{dr as default};
