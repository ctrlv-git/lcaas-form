import{aR as ge,u as f,d as Y,r as A,aC as Oe,ay as $,aF as Q,ax as Ee,o as C,c as V,w as v,a as g,aS as xn,aT as Pn,aG as F,aH as U,aU as Z,aI as X,aV as An,aA as fe,aW as kn,aX as Mn,aY as Zt,aD as $e,aZ as kt,T as Tt,au as Nn,v as Kt,aK as Ot,a_ as Fn,a5 as Rn,az as at,a$ as Gn,aP as Qt,aB as wt,b0 as $n,b1 as jn,b2 as Un,ag as zn,P as Jt,U as en,b3 as Wn,O as tn,aL as nn,aM as on,aE as Mt,b4 as Xn,aq as Bn,b5 as an,ab as Vn,ac as Yn,X as Ln,b6 as Nt,b7 as Hn,Q as qn,S as Zn,M as Kn}from"./vendor-a3685d3b.js";import{_ as Be,g as Qn,r as rn,a as Jn,b as ln,c as sn,f as Ft,d as eo,e as Rt}from"./index-b9283ebb.js";class to{step=0;max=0;#e=[];constructor(e=100){this.max=e??100}get value(){return this.#e[this.step-1]}set value(e){this.push(ge(e))}undo(){return this.go(-1)}redo(){return this.go(1)}go(e){return e=this.step+e,e=Math.max(0,Math.min(e,this.max,this.#e.length)),this.step=e,this.#e[this.step-1]}empty(){this.step=0,this.#e=[]}push(e){this.#e.length=this.step,this.#e.length>=this.max?this.#e.shift():this.step+=1,this.#e.push(ge(e))}}const no={cols:24,xGap:12,yGap:12},oo={size:"medium",labelPlacement:"left",labelAlign:"left",requireMarkPlacement:"right-hanging"},ao=[{value:"small",label:"较小"},{value:"medium",label:"中等"},{value:"large",label:"较大"}],ro=[{value:"left",label:"左置"},{value:"top",label:"上置"}],lo=[{value:"left",label:"左对齐"},{value:"right",label:"右对齐"}],io=["px","em"],so=[{value:"left",label:"左侧"},{value:"right",label:"右侧"},{value:"right-hanging",label:"右侧悬挂"}],uo=[{value:"/^[-]?\\d+(\\.\\d+)?$/",label:"数字"},{value:"/^[A-Za-z]+$/",label:"字母"},{value:"/^[A-Za-z0-9]+$/",label:"数字字母"},{value:"/^[1][0-9]{10}$/",label:"手机号码"},{value:"/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/",label:"邮箱"},{value:"/^https?://(([a-zA-Z0-9_-])+(.)?)*(:d+)?(/((.)?(?)?=?&?[a-zA-Z0-9_-](?)?)*)*$/i",label:"网址"},{value:"/^[^一-龥]+$/",label:"非中文字符"},{value:"/^[一-龥]+$/",label:"仅中文字符"}],co={default(t){const{default:{options:e,space:o}}=t.__slot__,n=A("n-checkbox"),a=A("n-space");return $(a,o,()=>e.map(r=>$(n,r)))}},fo=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),po={default(t,e){const{default:o,preLabel:n,sufLabel:a}=t.__slot__,r=A("n-input"),l=A("n-input-group-label"),i=A("NIcon"),u={};Object.keys(o).forEach(d=>{const c=o[d];if(c){const m=A(c);u[d]=()=>$(i,{component:m})}});const s=[$(r,e,u)];return n&&s.unshift($(l,()=>n)),a&&s.push($(l,()=>a)),s}},mo=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),He=(t,e)=>{const o=t.__slot__[e],n=A("NIcon"),a=A(o);return $(n,{component:a})},go={prefix(t,e){return He(t,e)},suffix(t,e){return He(t,e)},"add-icon"(t,e){return He(t,e)},"minu-icon"(t,e){return He(t,e)}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),Gt=(t,e)=>{const o=A("NIcon"),n=A(t.__slot__[e]);return $(o,{component:n})},_o={prefix(t,e){return Gt(t,e)},suffix(t,e){return Gt(t,e)}},vo=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),bo={default(t){const{default:{type:e,options:o,space:n}}=t.__slot__,a=e==="button",r=A(a?"n-radio-button":"n-radio"),l=A("n-space");return a?o.map(i=>$(r,i)):$(l,n,()=>o.map(i=>$(r,i)))}},yo=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"})),wo={default(t,e){return t.__slot__[e]}},Eo=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),So={thumb(t,e){return t.__slot__[e]}},Do=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),Co={checked(t,e){return t.__slot__[e]},unchecked(t,e){return t.__slot__[e]},icon(t,e){return t.__slot__[e]},"checked-icon"(t,e){return t.__slot__[e]},"unchecked-icon"(t,e){return t.__slot__[e]}},To=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"}));function Oo(t){const e=t.split("/").at(-1),o=t.split(e).at(0),[n,...a]=e.split(".").reverse();return{dir:o,base:e,ext:`.${n}`,name:a.reverse().join(".")}}function un(t){return f(t).length?f(t).reduce((e,o)=>{const{__vModel__:n,__config__:a,label:r,__rules__:l}=o,i=[];return a.required&&i.push({required:!0,message:`${r}必须填写`,trigger:"blur"}),l!=null&&l.length&&l.forEach(u=>{u.pattern&&i.push({validator:(s,d)=>new RegExp(u.pattern.slice(1,-1)).test(d),message:u.message||`${r}错误`,trigger:"blur"})}),{...e,[n]:i}},{}):{}}const cn={},$t=Object.assign({"./n-checkbox-group.ts":fo,"./n-input-group.ts":mo,"./n-input-number.ts":ho,"./n-input.ts":vo,"./n-radio-group.ts":yo,"./n-rate.ts":Eo,"./n-slider.ts":Do,"./n-switch.ts":To});Object.keys($t).forEach(t=>{const e=$t[t].default||{},{name:o}=Oo(t);cn[o]=e});function Io(t,e){const{tag:o,__slot__:n}=t,a=cn[o],r={};return o==="n-input-group"?()=>a.default(t,e):(a&&(a.default&&n.default&&(r.default=()=>a.default(t,e)),Object.keys(a).forEach(l=>{const i=a[l];n&&n[l]&&(r[l]=()=>i(t,l))})),r)}const dn=Y({name:"LcFormItem",props:{value:{type:[String,Number,Object,Boolean],required:!1,default:void 0},conf:{type:Object,required:!0}},emits:["update:value"],setup(t,{attrs:e,emit:o}){return()=>{const{__config__:n,tag:a}=t.conf||{},r=A(a),l=Oe({value:t.value,"onUpdate:value":u=>{o("update:value",u)}},n,e),i=Io(t.conf,l);return $(r,l,i)}}}),xo=["cols","collapsed","collapsedRows","layoutShiftDisabled","responsive","itemResponsive","xGap","yGap"],Po=Y({name:"LcForm",components:{FormItem:dn},props:{value:{type:Object,required:!0},conf:{type:Object,required:!0}},emits:["update:value"],setup(t,{emit:e,expose:o}){const n=Q(),a=Ee({get(){return t.value},set(c){e("update:value",c)}}),r=Ee(()=>{const{items:c}=t.conf,m=un(c);return!u&&s(),m}),l=Ee(()=>{const{fromGrid:c}=t.conf,m={};return xo.forEach(h=>{Object.hasOwn(c,h)&&(m[h]=c[h])}),m}),i=Ee(()=>t.conf.fromGlobal);let u=!1;const s=()=>{const{conf:{items:c},value:m}=t;a.value=c.reduce((h,_)=>{const{__vModel__:E}=_;return{[E]:void 0,...h}},m??{}),u=!0},d=()=>{e("update:value",f(a))};return o({formRef:n,validate(...c){var m;return(m=n.value)==null?void 0:m.validate(...c)},reset(){var c;(c=n.value)==null||c.restoreValidation()}}),{formRef:n,fromGrid:l,fromGlobal:i,formValue:a,formRules:r,bindUpdate:d}}}),Ao=(t,e)=>{const o=t.__vccOpts||t;for(const[n,a]of e)o[n]=a;return o};function ko(t,e,o,n,a,r){const l=A("form-item"),i=A("n-form-item-gi"),u=A("n-grid"),s=A("n-form");return C(),V(s,Oe({ref:"formRef"},t.fromGlobal,{model:t.formValue,rules:t.formRules}),{default:v(()=>[g(u,xn(Pn(t.fromGrid)),{default:v(()=>[(C(!0),F(U,null,Z(t.conf.items,d=>(C(),V(i,Oe({key:d.__uuid__},d.__layout__,{label:d.label,path:d.__vModel__}),{default:v(()=>[g(l,{value:t.formValue[d.__vModel__],"onUpdate:value":[c=>t.formValue[d.__vModel__]=c,t.bindUpdate],conf:d},null,8,["value","onUpdate:value","conf"])]),_:2},1040,["label","path"]))),128))]),_:1},16)]),_:1},16,["model","rules"])}const Mo=Ao(Po,[["render",ko]]),No={class:"center-toolbar"},Fo=Y({name:"CenterToolbar",inheritAttrs:!0}),Ro=Y({...Fo,props:{designer:{default:void 0}},emits:["onUndo","onRedo","onPreview","onEmpty","onSave"],setup(t,{emit:e}){const o=t,n=d=>{const m=`on${d.replace(/^\S/,h=>h.toUpperCase())}`;i.value=o?.designer.getConf(),o?.designer[d]((...h)=>{d==="preview"&&(a.value=h[0])}),e(m)},a=Q(!1),r=Q(),l=Q({}),i=Q({}),u=()=>{r.value.reset()},s=()=>{const{validate:d}=r.value;d(),console.log("表单提交信息:",kt(l.value),"表单配置信息:",kt(i.value))};return(d,c)=>{const m=Tt,h=Nn,_=Kt,E=Ot,k=Fn,I=Rn;return C(),F(U,null,[X("div",No,[g(_,{quaternary:"",circle:"",size:"small",onClick:c[0]||(c[0]=D=>n("undo"))},{icon:v(()=>[g(h,null,{trigger:v(()=>[g(m,{component:f(An)},null,8,["component"])]),default:v(()=>[fe(" 撤销 ")]),_:1})]),_:1}),g(_,{quaternary:"",circle:"",size:"small",onClick:c[1]||(c[1]=D=>n("redo"))},{icon:v(()=>[g(h,null,{trigger:v(()=>[g(m,{component:f(kn)},null,8,["component"])]),default:v(()=>[fe(" 恢复 ")]),_:1})]),_:1}),g(_,{quaternary:"",circle:"",size:"small",type:"info",onClick:c[2]||(c[2]=D=>n("preview"))},{icon:v(()=>[g(h,null,{trigger:v(()=>[g(m,{component:f(Mn)},null,8,["component"])]),default:v(()=>[fe(" 预览 ")]),_:1})]),_:1}),g(_,{quaternary:"",circle:"",size:"small",type:"error",onClick:c[3]||(c[3]=D=>n("empty"))},{icon:v(()=>[g(h,null,{trigger:v(()=>[g(m,{component:f(Zt)},null,8,["component"])]),default:v(()=>[fe(" 清空 ")]),_:1})]),_:1}),g(_,{size:"small",type:"primary",onClick:c[4]||(c[4]=D=>n("save"))},{default:v(()=>[fe("保存")]),_:1})]),g(I,{show:f(a),"onUpdate:show":c[6]||(c[6]=D=>$e(a)?a.value=D:null),"mask-closable":!1,"on-after-leave":()=>l.value={},size:"small",preset:"card",title:"选择图标",style:{width:"920px"}},{footer:v(()=>[g(k,null,{default:v(()=>[g(_,{type:"primary",tertiary:"",onClick:s},{default:v(()=>[fe("提交")]),_:1}),g(_,{type:"info",tertiary:"",onClick:u},{default:v(()=>[fe("重置")]),_:1})]),_:1})]),default:v(()=>[g(E,{style:{"max-height":"600px","padding-right":"10px"}},{default:v(()=>[g(f(Mo),{ref_key:"formRef",ref:r,value:f(l),"onUpdate:value":c[5]||(c[5]=D=>$e(l)?l.value=D:null),class:"preview-form",conf:f(i)},null,8,["value","conf"])]),_:1})]),_:1},8,["show","on-after-leave"])],64)}}});const Go=Be(Ro,[["__scopeId","data-v-2d5c2bbc"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,n)}return o}function re(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?jt(Object(o),!0).forEach(function(n){$o(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):jt(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Je(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(e){return typeof e}:Je=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(t)}function $o(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function se(){return se=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},se.apply(this,arguments)}function jo(t,e){if(t==null)return{};var o={},n=Object.keys(t),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(o[a]=t[a]);return o}function Uo(t,e){if(t==null)return{};var o=jo(t,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var zo="1.15.0";function ie(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ue=ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ve=ie(/Edge/i),Ut=ie(/firefox/i),je=ie(/safari/i)&&!ie(/chrome/i)&&!ie(/android/i),fn=ie(/iP(ad|od|hone)/i),pn=ie(/chrome/i)&&ie(/android/i),mn={capture:!1,passive:!1};function O(t,e,o){t.addEventListener(e,o,!ue&&mn)}function T(t,e,o){t.removeEventListener(e,o,!ue&&mn)}function rt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Wo(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function oe(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&rt(t,e):rt(t,e))||n&&t===o)return t;if(t===o)break}while(t=Wo(t))}return null}var zt=/\s+/g;function H(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(zt," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(zt," ")}}function y(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ie(t,e){var o="";if(typeof t=="string")o=t;else do{var n=y(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function gn(t,e,o){if(t){var n=t.getElementsByTagName(e),a=0,r=n.length;if(o)for(;a<r;a++)o(n[a],a);return n}return[]}function ae(){var t=document.scrollingElement;return t||document.documentElement}function G(t,e,o,n,a){if(!(!t.getBoundingClientRect&&t!==window)){var r,l,i,u,s,d,c;if(t!==window&&t.parentNode&&t!==ae()?(r=t.getBoundingClientRect(),l=r.top,i=r.left,u=r.bottom,s=r.right,d=r.height,c=r.width):(l=0,i=0,u=window.innerHeight,s=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(e||o)&&t!==window&&(a=a||t.parentNode,!ue))do if(a&&a.getBoundingClientRect&&(y(a,"transform")!=="none"||o&&y(a,"position")!=="static")){var m=a.getBoundingClientRect();l-=m.top+parseInt(y(a,"border-top-width")),i-=m.left+parseInt(y(a,"border-left-width")),u=l+r.height,s=i+r.width;break}while(a=a.parentNode);if(n&&t!==window){var h=Ie(a||t),_=h&&h.a,E=h&&h.d;h&&(l/=E,i/=_,c/=_,d/=E,u=l+d,s=i+c)}return{top:l,left:i,bottom:u,right:s,width:c,height:d}}}function Wt(t,e,o){for(var n=he(t,!0),a=G(t)[e];n;){var r=G(n)[o],l=void 0;if(o==="top"||o==="left"?l=a>=r:l=a<=r,!l)return n;if(n===ae())break;n=he(n,!1)}return!1}function xe(t,e,o,n){for(var a=0,r=0,l=t.children;r<l.length;){if(l[r].style.display!=="none"&&l[r]!==w.ghost&&(n||l[r]!==w.dragged)&&oe(l[r],o.draggable,t,!1)){if(a===e)return l[r];a++}r++}return null}function It(t,e){for(var o=t.lastElementChild;o&&(o===w.ghost||y(o,"display")==="none"||e&&!rt(o,e));)o=o.previousElementSibling;return o||null}function J(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==w.clone&&(!e||rt(t,e))&&o++;return o}function Xt(t){var e=0,o=0,n=ae();if(t)do{var a=Ie(t),r=a.a,l=a.d;e+=t.scrollLeft*r,o+=t.scrollTop*l}while(t!==n&&(t=t.parentNode));return[e,o]}function Xo(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function he(t,e){if(!t||!t.getBoundingClientRect)return ae();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=y(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return ae();if(n||e)return o;n=!0}}while(o=o.parentNode);return ae()}function Bo(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function dt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ue;function hn(t,e){return function(){if(!Ue){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),Ue=setTimeout(function(){Ue=void 0},e)}}}function Vo(){clearTimeout(Ue),Ue=void 0}function _n(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function vn(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var K="Sortable"+new Date().getTime();function Yo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(y(a,"display")==="none"||a===w.ghost)){t.push({target:a,rect:G(a)});var r=re({},t[t.length-1].rect);if(a.thisAnimationDuration){var l=Ie(a,!0);l&&(r.top-=l.f,r.left-=l.e)}a.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Xo(t,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,l=0;t.forEach(function(i){var u=0,s=i.target,d=s.fromRect,c=G(s),m=s.prevFromRect,h=s.prevToRect,_=i.rect,E=Ie(s,!0);E&&(c.top-=E.f,c.left-=E.e),s.toRect=c,s.thisAnimationDuration&&dt(m,c)&&!dt(d,c)&&(_.top-c.top)/(_.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(u=Ho(_,m,h,a.options)),dt(c,d)||(s.prevFromRect=d,s.prevToRect=c,u||(u=a.options.animation),a.animate(s,_,c,u)),u&&(r=!0,l=Math.max(l,u),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},u),s.thisAnimationDuration=u)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},l):typeof n=="function"&&n(),t=[]},animate:function(n,a,r,l){if(l){y(n,"transition",""),y(n,"transform","");var i=Ie(this.el),u=i&&i.a,s=i&&i.d,d=(a.left-r.left)/(u||1),c=(a.top-r.top)/(s||1);n.animatingX=!!d,n.animatingY=!!c,y(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Lo(n),y(n,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),y(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){y(n,"transition",""),y(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},l)}}}}function Lo(t){return t.offsetWidth}function Ho(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Se=[],ft={initializeByDefault:!0},Ye={mount:function(e){for(var o in ft)ft.hasOwnProperty(o)&&!(o in e)&&(e[o]=ft[o]);Se.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Se.push(e)},pluginEvent:function(e,o,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Se.forEach(function(l){o[l.pluginName]&&(o[l.pluginName][r]&&o[l.pluginName][r](re({sortable:o},n)),o.options[l.pluginName]&&o[l.pluginName][e]&&o[l.pluginName][e](re({sortable:o},n)))})},initializePlugins:function(e,o,n,a){Se.forEach(function(i){var u=i.pluginName;if(!(!e.options[u]&&!i.initializeByDefault)){var s=new i(e,o,e.options);s.sortable=e,s.options=e.options,e[u]=s,se(n,s.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var l=this.modifyOption(e,r,e.options[r]);typeof l<"u"&&(e.options[r]=l)}},getEventProperties:function(e,o){var n={};return Se.forEach(function(a){typeof a.eventProperties=="function"&&se(n,a.eventProperties.call(o[a.pluginName],e))}),n},modifyOption:function(e,o,n){var a;return Se.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(a=r.optionListeners[o].call(e[r.pluginName],n))}),a}};function qo(t){var e=t.sortable,o=t.rootEl,n=t.name,a=t.targetEl,r=t.cloneEl,l=t.toEl,i=t.fromEl,u=t.oldIndex,s=t.newIndex,d=t.oldDraggableIndex,c=t.newDraggableIndex,m=t.originalEvent,h=t.putSortable,_=t.extraEventProperties;if(e=e||o&&o[K],!!e){var E,k=e.options,I="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ue&&!Ve?E=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(n,!0,!0)),E.to=l||o,E.from=i||o,E.item=a||o,E.clone=r,E.oldIndex=u,E.newIndex=s,E.oldDraggableIndex=d,E.newDraggableIndex=c,E.originalEvent=m,E.pullMode=h?h.lastPutMode:void 0;var D=re(re({},_),Ye.getEventProperties(n,e));for(var R in D)E[R]=D[R];o&&o.dispatchEvent(E),k[I]&&k[I].call(e,E)}}var Zo=["evt"],B=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=Uo(n,Zo);Ye.pluginEvent.bind(w)(e,o,re({dragEl:p,parentEl:M,ghostEl:S,rootEl:x,nextEl:we,lastDownEl:et,cloneEl:P,cloneHidden:me,dragStarted:Fe,putSortable:j,activeSortable:w.active,originalEvent:a,oldIndex:Te,oldDraggableIndex:ze,newIndex:q,newDraggableIndex:pe,hideGhostForTarget:En,unhideGhostForTarget:Sn,cloneNowHidden:function(){me=!0},cloneNowShown:function(){me=!1},dispatchSortableEvent:function(i){W({sortable:o,name:i,originalEvent:a})}},r))};function W(t){qo(re({putSortable:j,cloneEl:P,targetEl:p,rootEl:x,oldIndex:Te,oldDraggableIndex:ze,newIndex:q,newDraggableIndex:pe},t))}var p,M,S,x,we,et,P,me,Te,q,ze,pe,qe,j,Ce=!1,lt=!1,it=[],be,ee,pt,mt,Bt,Vt,Fe,De,We,Xe=!1,Ze=!1,tt,z,gt=[],Et=!1,st=[],ct=typeof document<"u",Ke=fn,Yt=Ve||ue?"cssFloat":"float",Ko=ct&&!pn&&!fn&&"draggable"in document.createElement("div"),bn=function(){if(ct){if(ue)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),yn=function(e,o){var n=y(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=xe(e,0,o),l=xe(e,1,o),i=r&&y(r),u=l&&y(l),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+G(r).width,d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+G(l).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&i.float&&i.float!=="none"){var c=i.float==="left"?"left":"right";return l&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return r&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||s>=a&&n[Yt]==="none"||l&&n[Yt]==="none"&&s+d>a)?"vertical":"horizontal"},Qo=function(e,o,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,l=n?e.width:e.height,i=n?o.left:o.top,u=n?o.right:o.bottom,s=n?o.width:o.height;return a===i||r===u||a+l/2===i+s/2},Jo=function(e,o){var n;return it.some(function(a){var r=a[K].options.emptyInsertThreshold;if(!(!r||It(a))){var l=G(a),i=e>=l.left-r&&e<=l.right+r,u=o>=l.top-r&&o<=l.bottom+r;if(i&&u)return n=a}}),n},wn=function(e){function o(r,l){return function(i,u,s,d){var c=i.options.group.name&&u.options.group.name&&i.options.group.name===u.options.group.name;if(r==null&&(l||c))return!0;if(r==null||r===!1)return!1;if(l&&r==="clone")return r;if(typeof r=="function")return o(r(i,u,s,d),l)(i,u,s,d);var m=(l?i:u).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var n={},a=e.group;(!a||Je(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=o(a.pull,!0),n.checkPut=o(a.put),n.revertClone=a.revertClone,e.group=n},En=function(){!bn&&S&&y(S,"display","none")},Sn=function(){!bn&&S&&y(S,"display","")};ct&&!pn&&document.addEventListener("click",function(t){if(lt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),lt=!1,!1},!0);var ye=function(e){if(p){e=e.touches?e.touches[0]:e;var o=Jo(e.clientX,e.clientY);if(o){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[K]._onDragOver(n)}}},ea=function(e){p&&p.parentNode[K]._isOutsideThisEl(e.target)};function w(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=se({},e),t[K]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,i){l.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!je,emptyInsertThreshold:5};Ye.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);wn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Ko,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?O(t,"pointerdown",this._onTapStart):(O(t,"mousedown",this._onTapStart),O(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(t,"dragover",this),O(t,"dragenter",this)),it.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),se(this,Yo())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(De=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,p):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,a=this.options,r=a.preventOnFilter,l=e.type,i=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,d=a.filter;if(sa(n),!p&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||a.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&je&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=oe(u,a.draggable,n,!1),!(u&&u.animated)&&et!==u)){if(Te=J(u),ze=J(u,a.draggable),typeof d=="function"){if(d.call(this,e,u,this)){W({sortable:o,rootEl:s,name:"filter",targetEl:u,toEl:n,fromEl:n}),B("filter",o,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=oe(s,c.trim(),n,!1),c)return W({sortable:o,rootEl:c,name:"filter",targetEl:u,fromEl:n,toEl:n}),B("filter",o,{evt:e}),!0}),d)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!oe(s,a.handle,n,!1)||this._prepareDragStart(e,i,u)}}},_prepareDragStart:function(e,o,n){var a=this,r=a.el,l=a.options,i=r.ownerDocument,u;if(n&&!p&&n.parentNode===r){var s=G(n);if(x=r,p=n,M=p.parentNode,we=p.nextSibling,et=n,qe=l.group,w.dragged=p,be={target:p,clientX:(o||e).clientX,clientY:(o||e).clientY},Bt=be.clientX-s.left,Vt=be.clientY-s.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,p.style["will-change"]="all",u=function(){if(B("delayEnded",a,{evt:e}),w.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ut&&a.nativeDraggable&&(p.draggable=!0),a._triggerDragStart(e,o),W({sortable:a,name:"choose",originalEvent:e}),H(p,l.chosenClass,!0)},l.ignore.split(",").forEach(function(d){gn(p,d.trim(),ht)}),O(i,"dragover",ye),O(i,"mousemove",ye),O(i,"touchmove",ye),O(i,"mouseup",a._onDrop),O(i,"touchend",a._onDrop),O(i,"touchcancel",a._onDrop),Ut&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),B("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ve||ue))){if(w.eventCanceled){this._onDrop();return}O(i,"mouseup",a._disableDelayedDrag),O(i,"touchend",a._disableDelayedDrag),O(i,"touchcancel",a._disableDelayedDrag),O(i,"mousemove",a._delayedDragTouchMoveHandler),O(i,"touchmove",a._delayedDragTouchMoveHandler),l.supportPointer&&O(i,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,l.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&ht(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._disableDelayedDrag),T(e,"touchend",this._disableDelayedDrag),T(e,"touchcancel",this._disableDelayedDrag),T(e,"mousemove",this._delayedDragTouchMoveHandler),T(e,"touchmove",this._delayedDragTouchMoveHandler),T(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):o?O(document,"touchmove",this._onTouchMove):O(document,"mousemove",this._onTouchMove):(O(p,"dragend",this),O(x,"dragstart",this._onDragStart));try{document.selection?nt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Ce=!1,x&&p){B("dragStarted",this,{evt:o}),this.nativeDraggable&&O(document,"dragover",ea);var n=this.options;!e&&H(p,n.dragClass,!1),H(p,n.ghostClass,!0),w.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ee){this._lastX=ee.clientX,this._lastY=ee.clientY,En();for(var e=document.elementFromPoint(ee.clientX,ee.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ee.clientX,ee.clientY),e!==o);)o=e;if(p.parentNode[K]._isOutsideThisEl(e),o)do{if(o[K]){var n=void 0;if(n=o[K]._onDragOver({clientX:ee.clientX,clientY:ee.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);Sn()}},_onTouchMove:function(e){if(be){var o=this.options,n=o.fallbackTolerance,a=o.fallbackOffset,r=e.touches?e.touches[0]:e,l=S&&Ie(S,!0),i=S&&l&&l.a,u=S&&l&&l.d,s=Ke&&z&&Xt(z),d=(r.clientX-be.clientX+a.x)/(i||1)+(s?s[0]-gt[0]:0)/(i||1),c=(r.clientY-be.clientY+a.y)/(u||1)+(s?s[1]-gt[1]:0)/(u||1);if(!w.active&&!Ce){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(S){l?(l.e+=d-(pt||0),l.f+=c-(mt||0)):l={a:1,b:0,c:0,d:1,e:d,f:c};var m="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");y(S,"webkitTransform",m),y(S,"mozTransform",m),y(S,"msTransform",m),y(S,"transform",m),pt=d,mt=c,ee=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!S){var e=this.options.fallbackOnBody?document.body:x,o=G(p,!0,Ke,!0,e),n=this.options;if(Ke){for(z=e;y(z,"position")==="static"&&y(z,"transform")==="none"&&z!==document;)z=z.parentNode;z!==document.body&&z!==document.documentElement?(z===document&&(z=ae()),o.top+=z.scrollTop,o.left+=z.scrollLeft):z=ae(),gt=Xt(z)}S=p.cloneNode(!0),H(S,n.ghostClass,!1),H(S,n.fallbackClass,!0),H(S,n.dragClass,!0),y(S,"transition",""),y(S,"transform",""),y(S,"box-sizing","border-box"),y(S,"margin",0),y(S,"top",o.top),y(S,"left",o.left),y(S,"width",o.width),y(S,"height",o.height),y(S,"opacity","0.8"),y(S,"position",Ke?"absolute":"fixed"),y(S,"zIndex","100000"),y(S,"pointerEvents","none"),w.ghost=S,e.appendChild(S),y(S,"transform-origin",Bt/parseInt(S.style.width)*100+"% "+Vt/parseInt(S.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,a=e.dataTransfer,r=n.options;if(B("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}B("setupClone",this),w.eventCanceled||(P=vn(p),P.removeAttribute("id"),P.draggable=!1,P.style["will-change"]="",this._hideClone(),H(P,this.options.chosenClass,!1),w.clone=P),n.cloneId=nt(function(){B("clone",n),!w.eventCanceled&&(n.options.removeCloneOnHide||x.insertBefore(P,p),n._hideClone(),W({sortable:n,name:"clone"}))}),!o&&H(p,r.dragClass,!0),o?(lt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(T(document,"mouseup",n._onDrop),T(document,"touchend",n._onDrop),T(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,p)),O(document,"drop",n),y(p,"transform","translateZ(0)")),Ce=!0,n._dragStartId=nt(n._dragStarted.bind(n,o,e)),O(document,"selectstart",n),Fe=!0,je&&y(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,a,r,l,i=this.options,u=i.group,s=w.active,d=qe===u,c=i.sort,m=j||s,h,_=this,E=!1;if(Et)return;function k(Ne,On){B(Ne,_,re({evt:e,isOwner:d,axis:h?"vertical":"horizontal",revert:l,dragRect:a,targetRect:r,canSort:c,fromSortable:m,target:n,completed:D,onMove:function(At,In){return Qe(x,o,p,a,At,G(At),e,In)},changed:R},On))}function I(){k("dragOverAnimationCapture"),_.captureAnimationState(),_!==m&&m.captureAnimationState()}function D(Ne){return k("dragOverCompleted",{insertion:Ne}),Ne&&(d?s._hideClone():s._showClone(_),_!==m&&(H(p,j?j.options.ghostClass:s.options.ghostClass,!1),H(p,i.ghostClass,!0)),j!==_&&_!==w.active?j=_:_===w.active&&j&&(j=null),m===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){k("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===p&&!p.animated||n===o&&!n.animated)&&(De=null),!i.dragoverBubble&&!e.rootEl&&n!==document&&(p.parentNode[K]._isOutsideThisEl(e.target),!Ne&&ye(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function R(){q=J(p),pe=J(p,i.draggable),W({sortable:_,name:"change",toEl:o,newIndex:q,newDraggableIndex:pe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=oe(n,i.draggable,o,!0),k("dragOver"),w.eventCanceled)return E;if(p.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return D(!1);if(lt=!1,s&&!i.disabled&&(d?c||(l=M!==x):j===this||(this.lastPutMode=qe.checkPull(this,s,p,e))&&u.checkPut(this,s,p,e))){if(h=this._getDirection(e,n)==="vertical",a=G(p),k("dragOverValid"),w.eventCanceled)return E;if(l)return M=x,I(),this._hideClone(),k("revert"),w.eventCanceled||(we?x.insertBefore(p,we):x.appendChild(p)),D(!0);var b=It(o,i.draggable);if(!b||aa(e,h,this)&&!b.animated){if(b===p)return D(!1);if(b&&o===e.target&&(n=b),n&&(r=G(n)),Qe(x,o,p,a,n,r,e,!!n)!==!1)return I(),b&&b.nextSibling?o.insertBefore(p,b.nextSibling):o.appendChild(p),M=o,R(),D(!0)}else if(b&&oa(e,h,this)){var te=xe(o,0,i,!0);if(te===p)return D(!1);if(n=te,r=G(n),Qe(x,o,p,a,n,r,e,!1)!==!1)return I(),o.insertBefore(p,te),M=o,R(),D(!0)}else if(n.parentNode===o){r=G(n);var ne=0,_e,Pe=p.parentNode!==o,L=!Qo(p.animated&&p.toRect||a,n.animated&&n.toRect||r,h),Ae=h?"top":"left",ce=Wt(n,"top","top")||Wt(p,"top","top"),ke=ce?ce.scrollTop:void 0;De!==n&&(_e=r[Ae],Xe=!1,Ze=!L&&i.invertSwap||Pe),ne=ra(e,n,r,h,L?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,Ze,De===n);var le;if(ne!==0){var ve=J(p);do ve-=ne,le=M.children[ve];while(le&&(y(le,"display")==="none"||le===S))}if(ne===0||le===n)return D(!1);De=n,We=ne;var Me=n.nextElementSibling,de=!1;de=ne===1;var Le=Qe(x,o,p,a,n,r,e,de);if(Le!==!1)return(Le===1||Le===-1)&&(de=Le===1),Et=!0,setTimeout(na,30),I(),de&&!Me?o.appendChild(p):n.parentNode.insertBefore(p,de?Me:n),ce&&_n(ce,0,ke-ce.scrollTop),M=p.parentNode,_e!==void 0&&!Ze&&(tt=Math.abs(_e-G(n)[Ae])),R(),D(!0)}if(o.contains(p))return D(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){T(document,"mousemove",this._onTouchMove),T(document,"touchmove",this._onTouchMove),T(document,"pointermove",this._onTouchMove),T(document,"dragover",ye),T(document,"mousemove",ye),T(document,"touchmove",ye)},_offUpEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._onDrop),T(e,"touchend",this._onDrop),T(e,"pointerup",this._onDrop),T(e,"touchcancel",this._onDrop),T(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(q=J(p),pe=J(p,n.draggable),B("drop",this,{evt:e}),M=p&&p.parentNode,q=J(p),pe=J(p,n.draggable),w.eventCanceled){this._nulling();return}Ce=!1,Ze=!1,Xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(T(document,"drop",this),T(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),je&&y(document.body,"user-select",""),y(p,"transform",""),e&&(Fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(x===M||j&&j.lastPutMode!=="clone")&&P&&P.parentNode&&P.parentNode.removeChild(P),p&&(this.nativeDraggable&&T(p,"dragend",this),ht(p),p.style["will-change"]="",Fe&&!Ce&&H(p,j?j.options.ghostClass:this.options.ghostClass,!1),H(p,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:M,newIndex:null,newDraggableIndex:null,originalEvent:e}),x!==M?(q>=0&&(W({rootEl:M,name:"add",toEl:M,fromEl:x,originalEvent:e}),W({sortable:this,name:"remove",toEl:M,originalEvent:e}),W({rootEl:M,name:"sort",toEl:M,fromEl:x,originalEvent:e}),W({sortable:this,name:"sort",toEl:M,originalEvent:e})),j&&j.save()):q!==Te&&q>=0&&(W({sortable:this,name:"update",toEl:M,originalEvent:e}),W({sortable:this,name:"sort",toEl:M,originalEvent:e})),w.active&&((q==null||q===-1)&&(q=Te,pe=ze),W({sortable:this,name:"end",toEl:M,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){B("nulling",this),x=p=M=S=we=P=et=me=be=ee=Fe=q=pe=Te=ze=De=We=j=qe=w.dragged=w.ghost=w.clone=w.active=null,st.forEach(function(e){e.checked=!0}),st.length=pt=mt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":p&&(this._onDragOver(e),ta(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,a=0,r=n.length,l=this.options;a<r;a++)o=n[a],oe(o,l.draggable,this.el,!1)&&e.push(o.getAttribute(l.dataIdAttr)||ia(o));return e},sort:function(e,o){var n={},a=this.el;this.toArray().forEach(function(r,l){var i=a.children[l];oe(i,this.options.draggable,a,!1)&&(n[r]=i)},this),o&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return oe(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var a=Ye.modifyOption(this,e,o);typeof a<"u"?n[e]=a:n[e]=o,e==="group"&&wn(n)},destroy:function(){B("destroy",this);var e=this.el;e[K]=null,T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart),T(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),it.splice(it.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!me){if(B("hideClone",this),w.eventCanceled)return;y(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(me){if(B("showClone",this),w.eventCanceled)return;p.parentNode==x&&!this.options.group.revertClone?x.insertBefore(P,p):we?x.insertBefore(P,we):x.appendChild(P),this.options.group.revertClone&&this.animate(p,P),y(P,"display",""),me=!1}}};function ta(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Qe(t,e,o,n,a,r,l,i){var u,s=t[K],d=s.options.onMove,c;return window.CustomEvent&&!ue&&!Ve?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=o,u.draggedRect=n,u.related=a||e,u.relatedRect=r||G(e),u.willInsertAfter=i,u.originalEvent=l,t.dispatchEvent(u),d&&(c=d.call(s,u,l)),c}function ht(t){t.draggable=!1}function na(){Et=!1}function oa(t,e,o){var n=G(xe(o.el,0,o.options,!0)),a=10;return e?t.clientX<n.left-a||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-a||t.clientY<n.bottom&&t.clientX<n.left}function aa(t,e,o){var n=G(It(o.el,o.options.draggable)),a=10;return e?t.clientX>n.right+a||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+a}function ra(t,e,o,n,a,r,l,i){var u=n?t.clientY:t.clientX,s=n?o.height:o.width,d=n?o.top:o.left,c=n?o.bottom:o.right,m=!1;if(!l){if(i&&tt<s*a){if(!Xe&&(We===1?u>d+s*r/2:u<c-s*r/2)&&(Xe=!0),Xe)m=!0;else if(We===1?u<d+tt:u>c-tt)return-We}else if(u>d+s*(1-a)/2&&u<c-s*(1-a)/2)return la(e)}return m=m||l,m&&(u<d+s*r/2||u>c-s*r/2)?u>d+s/2?1:-1:0}function la(t){return J(p)<J(t)?1:-1}function ia(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function sa(t){st.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&st.push(n)}}function nt(t){return setTimeout(t,0)}function St(t){return clearTimeout(t)}ct&&O(document,"touchmove",function(t){(w.active||Ce)&&t.cancelable&&t.preventDefault()});w.utils={on:O,off:T,css:y,find:gn,is:function(e,o){return!!oe(e,o,e,!1)},extend:Bo,throttle:hn,closest:oe,toggleClass:H,clone:vn,index:J,nextTick:nt,cancelNextTick:St,detectDirection:yn,getChild:xe};w.get=function(t){return t[K]};w.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(w.utils=re(re({},w.utils),n.utils)),Ye.mount(n)})};w.create=function(t,e){return new w(t,e)};w.version=zo;var N=[],Re,Dt,Ct=!1,_t,vt,ut,Ge;function ua(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):n.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):(T(document,"pointermove",this._handleFallbackAutoScroll),T(document,"touchmove",this._handleFallbackAutoScroll),T(document,"mousemove",this._handleFallbackAutoScroll)),Lt(),ot(),Vo()},nulling:function(){ut=Dt=Re=Ct=Ge=_t=vt=null,N.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var a=this,r=(o.touches?o.touches[0]:o).clientX,l=(o.touches?o.touches[0]:o).clientY,i=document.elementFromPoint(r,l);if(ut=o,n||this.options.forceAutoScrollFallback||Ve||ue||je){bt(o,this.options,i,n);var u=he(i,!0);Ct&&(!Ge||r!==_t||l!==vt)&&(Ge&&Lt(),Ge=setInterval(function(){var s=he(document.elementFromPoint(r,l),!0);s!==u&&(u=s,ot()),bt(o,a.options,s,n)},10),_t=r,vt=l)}else{if(!this.options.bubbleScroll||he(i,!0)===ae()){ot();return}bt(o,this.options,he(i,!1),!1)}}},se(t,{pluginName:"scroll",initializeByDefault:!0})}function ot(){N.forEach(function(t){clearInterval(t.pid)}),N=[]}function Lt(){clearInterval(Ge)}var bt=hn(function(t,e,o,n){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,i=e.scrollSpeed,u=ae(),s=!1,d;Dt!==o&&(Dt=o,ot(),Re=e.scroll,d=e.scrollFn,Re===!0&&(Re=he(o,!0)));var c=0,m=Re;do{var h=m,_=G(h),E=_.top,k=_.bottom,I=_.left,D=_.right,R=_.width,b=_.height,te=void 0,ne=void 0,_e=h.scrollWidth,Pe=h.scrollHeight,L=y(h),Ae=h.scrollLeft,ce=h.scrollTop;h===u?(te=R<_e&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),ne=b<Pe&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(te=R<_e&&(L.overflowX==="auto"||L.overflowX==="scroll"),ne=b<Pe&&(L.overflowY==="auto"||L.overflowY==="scroll"));var ke=te&&(Math.abs(D-a)<=l&&Ae+R<_e)-(Math.abs(I-a)<=l&&!!Ae),le=ne&&(Math.abs(k-r)<=l&&ce+b<Pe)-(Math.abs(E-r)<=l&&!!ce);if(!N[c])for(var ve=0;ve<=c;ve++)N[ve]||(N[ve]={});(N[c].vx!=ke||N[c].vy!=le||N[c].el!==h)&&(N[c].el=h,N[c].vx=ke,N[c].vy=le,clearInterval(N[c].pid),(ke!=0||le!=0)&&(s=!0,N[c].pid=setInterval(function(){n&&this.layer===0&&w.active._onTouchMove(ut);var Me=N[this.layer].vy?N[this.layer].vy*i:0,de=N[this.layer].vx?N[this.layer].vx*i:0;typeof d=="function"&&d.call(w.dragged.parentNode[K],de,Me,t,ut,N[this.layer].el)!=="continue"||_n(N[this.layer].el,de,Me)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&m!==u&&(m=he(m,!1)));Ct=s}},30),Dn=function(e){var o=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,l=e.dispatchSortableEvent,i=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(o){var s=n||r;i();var d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,c=document.elementFromPoint(d.clientX,d.clientY);u(),s&&!s.el.contains(c)&&(l("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function xt(){}xt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=xe(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Dn};se(xt,{pluginName:"revertOnSpill"});function Pt(){}Pt.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:Dn};se(Pt,{pluginName:"removeOnSpill"});w.mount(new ua);w.mount(Pt,xt);const ca={sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,disabled:!1,store:null,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",preventOnFilter:!0,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:1,direction:"horizontal",forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,dragoverBubble:!1,removeCloneOnHide:!0,emptyInsertThreshold:5};function da(t){t.parentNode&&t.parentNode.removeChild(t)}function fa(t){return/^[a-z][a-z0-9]*$/.test(t)}const Ht=Symbol("dragData"),Cn=["setData","chooseData","onChoose","onUnchoose","onStart","onEnd","onAdd","onUpdate","onSort","onRemove","onFilter","onMove","onClone","onChange"],pa=Cn.reduce((t,e)=>(t[e]=Function,t),{});function ma({props:t,emit:e}){const o=Q(),{modelValue:n}=at(t),a=Q();function r(){f(a)&&f(a).destroy();const l=Gn()?.vnode.el,i={onAdd(s){const{pullMode:d,newIndex:c}=s;if(d){const m=ge(f(n)),h=s.item[Ht];m.splice(c,0,h),da(s.item),e("update:modelValue",m,h)}},onRemove(s){const{pullMode:d}=s;if(d===!0){const c=ge(f(n));c.splice(s.oldIndex,1),e("update:modelValue",c)}},onEnd(s){const{pullMode:d,oldIndex:c,newIndex:m}=s;if(!d){const h=ge(f(n)),_=h.splice(c,1);h.splice(m,0,..._),e("update:modelValue",h,h[m])}}},u=Cn.filter(s=>t[s]).reduce((s,d)=>(s[d]=t[d],s),{});a.value=new w(l,{...ca,...t.config,...i,...u,onChoose(s){let c=ge(f(n))[s.oldIndex];u.chooseData&&(c=u.chooseData(c,s.oldIndex)),s.item[Ht]=c}})}return[o,{init:r,sortableInstance:a}]}const Tn=Y({name:"LDraggable",props:{modelValue:{type:Array,required:!0,default:()=>[]},tag:{type:String,required:!1,default:"div"},config:{type:Object,required:!1,default:void 0},...pa},emits:["update:modelValue"],setup(t,{slots:e,emit:o,attrs:n,expose:a}){const{tag:r}=t,l=fa(r);let i=r;l||(i=A(r));const[u,{init:s,sortableInstance:d}]=ma({props:t,emit:o});return Qt(()=>{s()}),a({getInstance:()=>f(d)}),()=>{const{modelValue:c}=t;let m=l?e.empty?.():()=>e.empty?.();return c.length&&(m=l?e.default?.():()=>e.default?.()),$(i,{...n,ref:u},m)}}}),ga={class:"components-title"},ha=Y({name:"LeftPanel",inheritAttrs:!0}),_a=Y({...ha,setup(t){const e=Q([]);Qt(async()=>{e.value=await Qn()});const o=({icon:n})=>{const a=ge(Jn(n));return a.__uuid__=ln(),a.__vModel__=sn(`${n}-`),a.__layout__.span=24,a};return(n,a)=>{const r=A("svg-icon");return C(!0),F(U,null,Z(f(e),(l,i)=>(C(),F("section",{key:i,class:"components-panel"},[X("div",ga,[g(r,{class:"svg-icon-r",name:"component"}),X("span",null,wt(l.title),1)]),g(f(Tn),{modelValue:l.list,"onUpdate:modelValue":u=>l.list=u,class:"components-draggable",config:{group:{name:f(rn),pull:"clone",put:!1,revertClone:!0},sort:!1},"choose-data":o},{default:v(()=>[(C(!0),F(U,null,Z(l.list,u=>(C(),F("div",{key:u.__uuid__,class:"lc-draggable"},[g(r,{name:u.icon},null,8,["name"]),X("span",null,wt(u.text),1)]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","config"])]))),128)}}});const va=Be(_a,[["__scopeId","data-v-59a717f8"]]),qt={RadioGroup(t){const{type:e,options:o,space:n}=t,a=e==="button",r=A(a?"n-radio-button":"n-radio"),l=A("n-space");return a?o.map(i=>$(r,i)):$(l,n,()=>o.map(i=>$(r,i)))}},yt=Y({name:"WidgetItem",props:{field:{type:Object,default:()=>({})},model:{type:Object,default:()=>({})}},setup(t){return{FormItem:A("n-form-item"),getFieldValue:a=>{const{model:r}=t;return a.includes(".")?a.split(".").reduce((u,s)=>u?.[s],r):t?.model?.[a]},setFieldValue:(a,r)=>{const{model:l}=at(t);if(a.includes(".")){const i=a.split("."),[u,...s]=i.reverse(),d=s.reverse().reduce((c,m)=>c[m],l.value);d[u]=r}else l&&l.value&&(l.value[a]=r)}}},render(t){const{FormItem:e,getFieldValue:o,setFieldValue:n,field:a}=t,r=A(a.component),l=qt[r.name]&&qt[r.name](a.slot);return $(e,{label:a.label,path:a.path},()=>$(r,{...a.props,value:o(a.path),"onUpdate:value":i=>{Object.values(a.emits||"").forEach(u=>{u(t.model,i)}),n(a.path,i)}},()=>l))}}),ba=t=>(nn("data-v-4c59406f"),t=t(),on(),t),ya=ba(()=>X("span",null,"添加规则",-1)),wa=Y({name:"WidgetSetting",inheritAttrs:!0}),Ea=Y({...wa,props:{widget:{default:void 0}},setup(t){const e=t,{common:o,rules:n}=Ft,a=Ee(()=>{const{tagType:i}=e.widget;return Ft[i]}),r=()=>{const{__rules__:i}=e.widget;i.push({message:void 0,pattern:void 0})},l=i=>{const{__rules__:u}=e.widget;u.splice(i,1)};return(i,u)=>{const s=Un,d=Tt,c=Kt,m=zn,h=Jt,_=en,E=Wn,k=tn;return C(),V(k,{class:"widget-setting",model:e.widget,"label-width":"6em","label-placement":"left","show-feedback":!1},{default:v(()=>[g(E,{"default-expanded-names":"extendConfig"},{default:v(()=>[g(s,{title:"基础属性",name:"commonConfig"},{default:v(()=>[(C(!0),F(U,null,Z(f(o),I=>(C(),V(f(yt),{key:I.label,field:I,model:e.widget},null,8,["field","model"]))),128))]),_:1}),g(s,{title:"高级属性",name:"extendConfig"},{default:v(()=>[(C(!0),F(U,null,Z(f(a),I=>(C(),V(f(yt),{key:I.label,field:I,model:e.widget},null,8,["field","model"]))),128))]),_:1}),g(s,{title:"校验规则",name:"rulesConfig"},{default:v(()=>[(C(!0),F(U,null,Z(f(n),I=>(C(),V(f(yt),{key:I.label,field:I,model:e.widget},null,8,["field","model"]))),128)),(C(!0),F(U,null,Z(e.widget.__rules__,(I,D)=>(C(),F("div",{key:D,class:"rule-item"},[g(c,{class:"rule-delete",text:"",onClick:()=>l(D)},{default:v(()=>[g(d,{size:"18",component:f($n)},null,8,["component"])]),_:2},1032,["onClick"]),g(h,{label:"表达式","label-width":"5em"},{default:v(()=>[g(m,{value:I.pattern,"onUpdate:value":R=>I.pattern=R,options:f(uo),filterable:"",tag:"",clearable:"",placeholder:"可输入正则，如：/\\\\d+/"},null,8,["value","onUpdate:value","options"])]),_:2},1024),g(h,{label:"错误提示","label-width":"5em"},{default:v(()=>[g(_,{value:I.message,"onUpdate:value":R=>I.message=R,clearable:""},null,8,["value","onUpdate:value"])]),_:2},1024)]))),128)),X("div",null,[g(c,{text:"",class:"rule-btn",type:"info",onClick:r},{icon:v(()=>[g(d,{component:f(jn)},null,8,["component"])]),default:v(()=>[ya]),_:1})])]),_:1})]),_:1})]),_:1},8,["model"])}}});const Sa=Be(Ea,[["__scopeId","data-v-4c59406f"]]),Da={class:"right-tab"},Ca={class:"right-content"},Ta=Y({name:"RightPanel",inheritAttrs:!0}),Oa=Y({...Ta,props:{designer:{default:void 0},form:{},widget:{default:void 0}},setup(t){const e=t,o={widget:"组件属性",form:"表单属性"},n=Q("widget"),{form:a,widget:r}=at(e),l=io.map(u=>({label:u,value:u})),i=Ee({get(){return e.form.fromGrid.xGap},set(u){const{fromGrid:s}=at(e.form);s.value.xGap=s.value.yGap=u}});return(u,s)=>{const d=Xn,c=Bn,m=an,h=en,_=Jt,E=Vn,k=Yn,I=eo,D=Ln,R=Ot;return C(),F(U,null,[X("div",Da,[g(c,{value:f(n),"onUpdate:value":s[0]||(s[0]=b=>$e(n)?n.value=b:null),"justify-content":"space-evenly",type:"line"},{default:v(()=>[(C(),F(U,null,Z(o,(b,te)=>g(d,{key:te,name:te},{default:v(()=>[fe(wt(b),1)]),_:2},1032,["name"])),64))]),_:1},8,["value"])]),g(R,{class:"app-panel"},{default:v(()=>[X("div",Ca,[f(n)==="widget"?(C(),F(U,{key:0},[f(r)?(C(),V(Sa,{key:f(r).__uuid__,widget:f(r),"onUpdate:widget":s[1]||(s[1]=b=>$e(r)?r.value=b:null)},null,8,["widget"])):(C(),V(m,{key:1,size:"huge",description:"未选择控件"}))],64)):Mt("",!0),f(n)==="form"?(C(),F(U,{key:1},[g(_,{label:"表单名称","label-placement":"left"},{default:v(()=>[g(h,{value:f(a).name,"onUpdate:value":s[2]||(s[2]=b=>f(a).name=b)},null,8,["value"])]),_:1}),g(_,{label:"表单尺寸","label-placement":"left"},{default:v(()=>[g(k,{value:f(a).fromGlobal.size,"onUpdate:value":s[3]||(s[3]=b=>f(a).fromGlobal.size=b),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),F(U,null,Z(f(ao),b=>(C(),V(E,{key:b.value,value:b.value,label:b.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),g(_,{label:"标签位置","label-placement":"left"},{default:v(()=>[g(k,{value:f(a).fromGlobal.labelPlacement,"onUpdate:value":s[4]||(s[4]=b=>f(a).fromGlobal.labelPlacement=b),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),F(U,null,Z(f(ro),b=>(C(),V(E,{key:b.value,value:b.value,label:b.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),g(_,{label:"标签对齐","label-placement":"left"},{default:v(()=>[g(k,{value:f(a).fromGlobal.labelAlign,"onUpdate:value":s[5]||(s[5]=b=>f(a).fromGlobal.labelAlign=b),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),F(U,null,Z(f(lo),b=>(C(),V(E,{key:b.value,value:b.value,label:b.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1}),g(_,{label:"标签宽度","label-placement":"left"},{default:v(()=>[g(I,{value:f(a).fromGlobal.labelWidth,"onUpdate:value":s[6]||(s[6]=b=>f(a).fromGlobal.labelWidth=b),options:f(l)},null,8,["value","options"])]),_:1}),g(_,{label:"栅格间隔","label-placement":"left"},{default:v(()=>[g(D,{value:f(i),"onUpdate:value":s[7]||(s[7]=b=>$e(i)?i.value=b:null),"button-placement":"both",precision:0,step:"1",max:"999"},null,8,["value"])]),_:1}),g(_,{label:"星号位置","label-placement":"left"},{default:v(()=>[g(k,{value:f(a).fromGlobal.requireMarkPlacement,"onUpdate:value":s[8]||(s[8]=b=>f(a).fromGlobal.requireMarkPlacement=b),name:"radiobuttongroup1"},{default:v(()=>[(C(!0),F(U,null,Z(f(so),b=>(C(),V(E,{key:b.value,value:b.value,label:b.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1})],64)):Mt("",!0)])]),_:1})],64)}}});const Ia=Be(Oa,[["__scopeId","data-v-cb5f3074"]]),xa=()=>{const t=Q(),e=Q({}),o=Q(),n=Q({name:"naiveui 表单",fromGrid:no,fromGlobal:oo,items:[]}),a=new to(50),r={undo(){const l=a.go(-1);f(n).items=l},redo(){const l=a.go(1);f(n).items=l},preview(l){l(!0)},empty(){f(n).items.length&&(o.value=void 0,f(n).items=[],r.storage())},save(){console.log("widgets-Config",e.value,f(n))},getConf(){return f(n)},getActiveWidget(){return o},setActiveWidget(l){o.value=l},copyWidget(l){const i={...ge(l),__uuid__:ln(),__vModel__:sn(l.tag)};o.value=i,f(n).items.push(i),r.storage()},deleteWidget(l){f(o)===f(n).items[l]&&(o.value=f(n).items[0]),f(n).items.splice(l,1),r.storage()},storage(){a.push(f(n).items)}};return[r,{formData:e,formConfig:n,elFormRef:t,activeWidget:o}]},Pa=t=>(nn("data-v-ab3e39ad"),t=t(),on(),t),Aa={class:"app-left"},ka=Pa(()=>X("div",{class:"left-logo"},"表单设计器",-1)),Ma={class:"app-center"},Na={class:"form-tool"},Fa=["onClick"],Ra=["onClick"],Ga={class:"app-right"},$a=Y({name:"PageEditor",inheritAttrs:!0}),ja=Y({...$a,setup(t){const e={group:{name:Rt,pull:!0,put:[rn,Rt]}},[o,{formData:n,formConfig:a,elFormRef:r,activeWidget:l}]=xa(),i=Ee(()=>{const{items:s}=f(a);return un(s)}),u=(s,d)=>{f(a).items=s,o.setActiveWidget(d),o.storage()};return(s,d)=>{const c=Ot,m=Tt,h=qn,_=an,E=Zn,k=tn,I=Kn;return C(),V(I,{class:"app-container",tag:"section"},{default:v(()=>[X("div",Aa,[ka,g(c,{class:"app-panel left-panel"},{default:v(()=>[g(va)]),_:1})]),X("div",Ma,[g(Go,{designer:f(o)},null,8,["designer"]),g(c,{class:"app-panel"},{default:v(()=>[g(k,Oe({ref_key:"elFormRef",ref:r},f(a).fromGlobal,{model:f(n),rules:f(i)}),{default:v(()=>[g(f(Tn),Oe(f(a).fromGrid,{"model-value":f(a).items,config:e,tag:"NGrid",class:"center-editor","onUpdate:modelValue":u}),{empty:v(()=>[g(E,{span:24,class:"center-empty",draggable:"false"},{default:v(()=>[g(_,{size:"huge",description:"从左侧选择控件进行表单设计"})]),_:1})]),default:v(()=>[(C(!0),F(U,null,Z(f(a).items,(D,R)=>(C(),V(h,Oe({key:D.__uuid__},D.__layout__,{label:D.label,"show-feedback":!1,path:D.__vModel__,class:["center-row",{on:f(l)?.__uuid__===D.__uuid__}],onClick:b=>f(o).setActiveWidget(D)}),{default:v(()=>[g(f(dn),{value:f(n)[D.__vModel__],"onUpdate:value":b=>f(n)[D.__vModel__]=b,conf:D},null,8,["value","onUpdate:value","conf"]),X("div",Na,[X("span",{class:"form-tool-btn icon-copy",onClick:Nt(b=>f(o).copyWidget(D),["stop"])},[g(m,{size:"16",component:f(Hn)},null,8,["component"])],8,Fa),X("span",{class:"form-tool-btn icon-delete",onClick:Nt(b=>f(o).deleteWidget(R),["stop"])},[g(m,{size:"16",component:f(Zt)},null,8,["component"])],8,Ra)])]),_:2},1040,["label","path","class","onClick"]))),128))]),_:1},16,["model-value"])]),_:1},16,["model","rules"])]),_:1})]),X("div",Ga,[g(Ia,{designer:f(o),widget:f(l),form:f(a)},null,8,["designer","widget","form"])])]),_:1})}}});const Xa=Be(ja,[["__scopeId","data-v-ab3e39ad"]]);export{Xa as default};
